# 命令行开关

## 关于

一个命令行开关的列表，用于以不同模式和配置启动FreeSWITCH™。可用的选项可能因操作系统的不同而有所差异。使用以下命令查看可用选项：

```xml
/usr/local/freeswitch/bin/freeswitch -help 
```

除了使用命令行外，还可以使用FREESWITCH\_OPTS环境变量设置选项。

单击此处展开目录

* 1 [运行 FreeSWITCH](#run-freeswitch--)  
   * 1.1 [前台运行](#run-in-foreground)  
   * 1.2 [后台运行](#run-in-background)
* 2 [参数列表](#argument-list)  
   * 2.1 [文件路径](#file-paths)
* 3 [参数注意事项](#-argument-cautions-)
* 4 [参见](#-see-also-)

## 运行 FreeSWITCH  

### 前台运行

```xml
$ freeswitch

```

### 后台运行

```xml
$ freeswich -nc
```

## 参数列表

以下是您可以传递给freeswitch的可选参数：

**FreeSWITCH 启动开关**

```xml
- waste                 -- 允许内存浪费
- no-auto-stack         -- 不调整线程栈大小
- core                  -- 转储核心文件
- help                  -- 打印帮助消息
- version               -- 打印版本并退出
- rp                    -- 启用高优先级设置
- lp                    -- 启用低优先级设置
- np                    -- 启用正常优先级设置（系统默认）
- vg                    -- 在valgrind下运行
- nosql                 -- 禁用内部SQL计分板
- heavy-timer           -- 重型计时器，可能更准确但代价更高
- nonat                 -- 禁用自动NAT检测
- nonatmap              -- 禁用自动NAT端口映射
- nocal                 -- 禁用时钟校准
- nort                  -- 禁用真实时钟
- stop                  -- 停止freeswitch
- nc                    -- 没有控制台并在后台运行
- ncwait                -- 没有控制台并在后台运行，但等待系统准备就绪后退出（相当于-nc）
- c                     -- 输出到控制台并保持前台运行（默认行为）
```

**仅适用于类Unix系统**

```xml
- nf                    -- 不进行分叉
- u [user]              -- 指定要切换到的用户
- g [group]             -- 指定要切换到的用户组
- ncwait                -- 不输出到控制台并在后台运行，但等待系统准备就绪后退出（相当于-nc）
```

**仅适用于Windows**

```xml
- service [name]        -- 将freeswitch作为服务启动，如果作为控制台应用程序加载，则无法使用
- install [name]        -- 将freeswitch安装为服务，可选服务名称
- uninstall             -- 将freeswitch从服务中移除
- monotonic-clock       -- 使用单调时钟作为计时器源
```

**文件位置**

```xml
-base [basedir]         -- 备选前缀目录
-conf [confdir]         -- FreeSWITCH 配置文件的备选目录
-log [logdir]           -- 日志文件的备选目录
-run [rundir]           -- 运行时文件的备选目录
-db [dbdir]             -- 内部数据库的备选目录
-mod [moddir]           -- 模块的备选目录
-htdocs [htdocsdir]     -- htdocs 的备选目录
-scripts [scriptsdir]   -- 脚本的备选目录
-temp [directory]       -- 临时文件的备选目录
-grammar [directory]    -- 语法文件的备选目录
-recordings [directory] -- 录音的备选目录
-storage [directory]    -- 语音邮件存储的备选目录
-sounds [directory]     -- 声音文件的备选目录
```

如果你设置了 -conf、-log 或 -db 中的任意一个文件位置，你必须设置这三个。

### 文件路径

在 Linux 上确定 FreeSWITCH™ 当前正在寻找文件的一个便捷方法:

**显示 FS 路径的方法**

```bash
bash> fs_cli -x 'global_getvar'| grep _dir

base_dir=/usr
recordings_dir=/var/lib/freeswitch/recordings
sounds_dir=/usr/share/freeswitch/sounds
conf_dir=/etc/freeswitch
log_dir=/var/log/freeswitch
run_dir=/var/run/freeswitch
db_dir=/var/lib/freeswitch/db
mod_dir=/usr/lib/freeswitch/mod
htdocs_dir=/usr/share/freeswitch/htdocs
script_dir=/usr/share/freeswitch/scripts
temp_dir=/tmp
grammar_dir=/usr/share/freeswitch/grammar
fonts_dir=/usr/share/freeswitch/fonts
images_dir=/var/lib/freeswitch/images
certs_dir=/etc/freeswitch/tls
storage_dir=/var/lib/freeswitch/storage
cache_dir=/var/cache/freeswitch
data_dir=/usr/share/freeswitch
localstate_dir=/var/lib/freeswitch
```

## 注意事项

设置某些参数可能会以意想不到的方式影响行为。下面的列表列出了设置不同命令行参数可能引起的已知副作用。

- nosql - 设置 nosql 参数会完全禁用 coreDB 的使用，这意味着您将无法显示频道、显示通话、进行标签补全，或者访问存储在 coreDB 中的其他任何内容。

## 参见

- [默认配置](./Default-Configuration_6587388.mdx#mod_vp8)

base_dir=/usr

recordings_dir=/var/lib/freeswitch/recordings

sounds_dir=/usr/share/freeswitch/sounds

conf_dir=/etc/freeswitch

log_dir=/var/log/freeswitch

run_dir=/var/run/freeswitch

db_dir=/var/lib/freeswitch/db

mod_dir=/usr/lib/freeswitch/mod

htdocs_dir=/usr/share/freeswitch/htdocs

script_dir=/usr/share/freeswitch/scripts

temp_dir=/tmp

grammar_dir=/usr/share/freeswitch/grammar

fonts_dir=/usr/share/freeswitch/fonts

images_dir=/var/lib/freeswitch/images

certs_dir=/etc/freeswitch/tls

storage_dir=/var/lib/freeswitch/storage

cache_dir=/var/cache/freeswitch

data_dir=/usr/share/freeswitch

localstate_dir=/var/lib/freeswitch