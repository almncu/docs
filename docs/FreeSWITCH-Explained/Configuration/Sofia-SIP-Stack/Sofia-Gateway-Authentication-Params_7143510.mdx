# Sofia 网关身份验证参数

## 关于

用于配置 Sofia 网关身份验证的参数。

点击此处展开目录

* [1 网关身份验证](#gateway-authentication)

### 网关身份验证

以下是网关的所有可能值：

**register** _true or false_（当您不想注册但需要认证到网关时使用）

**schema**（当前应保留为空白，即默认为 Digest）

**realm**（授权域，在某些情况下您可能需要设置此项）

**username**（用于注册的授权和 From 用户名，除非设置了 from-user）

**auth-username**（用于外部注册的认证用户名）

**password**（密码）

**caller-id-in-from**（当远程不支持 rpid 或 p-asserted 时，使用该项将来电号码放在 From 字段中）

**extension**（用于远程联系的联系人分机号码）

**extension-in-contact**（将分机号码放在 SIP 联系头中）

**proxy**（默认为网关名称，除非设置了此参数）

**context**（网关所在的上下文）

**expire-seconds**（注册的秒数，默认为 3600，如果为空则使用默认值）

**retry-seconds**（设置重试注册的秒数）

**from-user**（用于 from 字段的用户名，默认为 username，如果为空则使用默认值）

**from-domain**（用于 from 字段的域名）

**register-proxy**（当您有一个用于注册和发送呼叫的不同代理服务器时，使用此项，默认为网关名称或代理服务器名称，如果为空则使用默认值）

**contact-params**（额外的联系人参数，例如 tport=tcp）

**register-transport**（如果启用了 udp、tcp 或 tls，则使用此项）


### 评论：

|  在这个列表中缺少的是 **outbound-proxy**，用于路由出站呼叫。如果你只使用 **proxy**，那么它会覆盖 **realm**，如果需要 realm 并且与 proxy 不同，认证将失败。![](/images/icons/contenttypes/comment_16.png) 发表者：dcw67，于 2020 年 8 月 18 日 20:33。                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 的确，你说得很对，但是我只在 sofia.c 和 mod_sofia.c 的配置文件中看到它被读取，而不是真正被用到的地方，但是我并不是 C 语言的专家。此外，GitHub 上的 Vanilla example.xml 网关文件并没有提到它，所以我不确定它是否完全开发完成？![](/images/icons/contenttypes/comment_16.png) 发表者：boteman，于 2020 年 10 月 23 日 17:49 |