# 变量主列表


## 关于

此页面包含文档中定义的每个变量的列表。如果您在其他地方找到了一个在此列表中未定义的变量，则表示存在一个错误！

单击此处展开目录

**错误呈现宏“toc”**

null

### absolute_codec_string

字符串 设置要使用的绝对编解码器字符串（不会添加任何内容）。

**用法**

```xml
<action application="set" data="absolute_codec_string=PCMU,GSM"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### accountcode

字符串 Account code在大多数情况下是一个任意的值，您可以按照每个呼叫端分配。accountcode的一个重要功能是，如果它的值与在`cdr_csv.conf.xml`中定义的CDR CSV模板之一匹配，则在生成CSV CDR时将使用该CDR模板。

**用法**

```xml
<action application="set" data="accountcode=custom"/>
```

### acl_token

字符串 如果传入的SIP INVITE消息与用户ACL匹配，则将该变量设置为用户ID和域名。

### alert_info

字符串 添加一个类似于Snom和其他电话所需的铃声或铃声信息的“Alert-Info”标题。

**用法**

在所有呼叫中加载外部WAV铃声：

```xml
<action application="export" data="alert_info=http://192.168.181.5/sounds/ctu.wav"/>
```

在Snom的安装 > 预设 > Alert-Info Ringer下改变提醒-外部，提醒-组和提醒-内部的铃声（使用外部提示音）：

```xml
<action application="export" data="alert_info=http://www.notused.com;info=alert-external;x-line-id=0"/>
```

### answer_epoch

整数

### answer_stamp

字符串

### answer_uepoch

整数

### answermsec

整数

### answersec

整数

### answerusec

整数

### api_after_bridge

在桥接之后执行 API 命令。

**用法**

通过 [Portaudio](../Modules/mod_portaudio_9634724.mdx#about) 将呼叫转接到 PA 系统（在公告前后播放铃声）：

```xml
<extension name="paging-with-chime">
	<condition field="destination_number" expression="^7243$">
		<action application="set" data="bridge_pre_execute_bleg_app=playback"/>
		<action application="set" data="bridge_pre_execute_bleg_data=/tmp/2_tone_chime.wav"/>
		<action application="set" data="api_after_bridge=luarun post-chime.lua"/>
		<action application="bridge" data="portaudio/auto_answer"/>
	</condition>
</extension>
```

`post-chime.lua`:

```bash
api = freesswitch.API()
api:execute("pa", "play /tmp/2_tone_chime.wav")
```

### api_hangup_hook

在挂断时执行 API 命令。

另请参阅：

* [session\_in\_hangup\_hook](Variables-Master-List_16352570.mdx#session_in_hangup_hook)
* [api\_reporting\_hook](Variables-Master-List_16352570.mdx#alert_info) \- 类似于 `api_hangup_hook`，但在报告状态之后执行（都遵守 [session\_in\_hangup\_hook](Variables-Master-List_16352570.mdx#session_in_hangup_hook)）

**用法**

```xml
<action application="set" data="api_hangup_hook=jsrun cleanup.js ${uuid}"/>
```

### api_on_answer

在被叫方应答时执行 API 命令（而不是应用程序）。要设置应用程序，请使用 [execute\_on\_answer](Variables-Master-List_16352570.mdx#execute_on_answer)。

**用法**

```xml
<action application="export" data="nolocal:api_on_answer=uuid_broadcast ${uuid} beep.wav both"/>
```

```xml
<action application="bridge" data="{api_on_answer='uuid_broadcast ${uuid} beep.wav both'}sofia/gateway/provider/5551231234"/>
```

### api_on_media

当远端发送媒体（例如振铃或183/SDP）时，执行一个[FreeSWITCH API](../Client-and-Developer-Interfaces/Freeswitch-GUI/index.mdx#about)命令。

该命令仅在尚未接听的通道上执行。只需使用`export`或带有`nolocal:`前缀的`export`来确保在B-leg应答时执行该命令。

**用法**

```xml
<action application="export" data="nolocal:execute_on_media=lua incrInUse.lua ${uuid}"/>
```

### api_on_originate

字符串

### api_on_post_originate

字符串 在所选的新发起通道上执行一个API，不同于在api\_on\_originate中对所有候选通道执行。

### api_on_pre_answer

字符串

### api_on_pre_originate

字符串

### api_on_ring

字符串

### api_on_sip_extra_headers

字符串

### api_on_startup

字符串 在开机时执行一个API（而不是应用程序）。

**用法**

```xml
<X-PRE-PROCESS cmd="set" data="api_on_startup=sofia recover"/>
```

### api_on_tone_detect

字符串

### asr_intercept_dtmf

字符串

### auto_answer_destination

字符串 在呼入电话中，远端可能发送一个带有事件类型`talk`的`SIP NOTIFY`消息，告知Sofia endpoint自动接听电话。在这种情况下，变量`auto_answer_destination`设置为通道的[destination\_number](Variables-Master-List_16352570.mdx#destination_number)，并将呼叫转接到当前拨号计划和上下文中的`auto_answer`分机。

### auto_hunt

将设置`auto_hunt`为`true`会改变拨号计划扩展的正常顺序处理。`auto_hunt`会导致拨号计划"跳转"到特定的扩展名，而不处理任何其他扩展名。为使此功能生效，[destination_number](Variables-Master-List_16352570.mdx#destination_number) 和扩展名必须相同。条件仍然必须匹配，但扩展名是操作要素。

**用法**

在`conf/vars.xml`中：

```xml
<X-PRE-PROCESS cmd="set" data="auto_hunt=true"/>
```

```xml
<extension name="do_xfer">
  <condition field="destination_number" expression="^.*$">
    <action application="set" data="auto_hunt=true"/>
    <action application="transfer" data="333"/>
  </condition>
</extension>

<extension name="333">
  <condition field="destination_number" expression="^333$">
    <action application="info"/>
  </condition>
</extension>
```

### base_dir

字符串

这定义了大多数其他目录设置的基本目录

### billmsec

整数

### billsec

整数

### billusec

整数

### bind_meta_key

DTMF 数字 选择与 [bind\_meta\_app](../Modules/mod_dptools_1970333.mdx#-c) 拨号计划应用程序一起使用的元按键。

**用法**

```xml
<action application="set" data="bind_meta_key=#"/>
```

### bridge_answer_timeout

整数 桥接在未应答时的早期媒体的容忍时间（可在任一路设置）。在构建15057中引入。

另请参见：[早期媒体](../Codecs-and-Media/Early-Media/index.mdx#about)

**用法**

```xml
<action application="set" data="bridge_answer_timeout=20"/>
```

### bridge_channel

字符串

### bridge_early_media

默认情况下，此值为false。设置为true时，桥接将使用b-leg的实时音频作为a-leg的回铃音。设置`bridge_early_media=true`表示将缓冲早期媒体。

**如果满足以下条件，请考虑将此值设置为true：**

* 您正在使用[回环通道](../Bit-Bucket/For-Consideration/mod_bridgecall_13173999.mdx#loopback)执行将桥接到发送早期媒体并且接收到的早期媒体音频质量下降的端点时。

注意：设置`bridge_early_media=true`会带来比`bridge_early_media=false`更高的资源成本，但可能会改善早期媒体的声音质量。在进行桥接之前或者在桥接的拨号字符串中设置`bridge_early_media`。

* 您在originate或bridge中使用多个目标（例如：_originate {globalVar=global}\[channelVar=channel1\]sofia/gateway/GW1/123456|\[channelVar=channel2\]sofia/gateway/GW2/123456)_，其中您需要接收网络生成的呼叫进展音调（例如：铃声和网络公告）。您可以将此与continue\_on\_fail结合使用，以便仅对特定的释放原因进行精细调整。

### bridge_epoch

整数

### bridge_export_vars

字符串 bridge\_`export_vars`列出了桥接到另一条腿上要导出的变量。

  
### bridge_filter_dtmf

布尔值 将此变量设置为`true`将阻止在桥接通道上接收到的DTMF数字发送到其他通道。

**用法**

在拨号计划中：

```xml
<action application="set" data="bridge_filter_dtmf=true" />
```

拨号字符串：

```xml
{bridge_filter_dtmf=true}sofia/default/blah@baz.com
```

### bridge_generate_comfort_noise

字符串 在桥接会话接收不连续音频帧（静音抑制）时生成舒适噪音。

当大于`0`时，该变量设置为静默生成函数的除数。常见的设置是400或1400，但您可以尝试其他选择以选择听起来最好的一个。

当为`true`时，FreeSWITCH将选择一个默认的舒适噪声值。

当为`-1`时，FreeSWITCH将传输没有舒适噪声的静默。（截止到2012-10-25）

**用法**

Leg A希望连续的音频流，但Leg B使用了静音抑制：

```xml
<action application="set" data="bridge_generate_comfort_noise=true"/>
<action application="bridge" data="sofia/user/1000"/>
```

Leg A使用了静音抑制，但Leg B希望连续的音频流：

```xml
<action application="bridge" data="{bridge_generate_comfort_noise=true}sofia/user/1000"/>
```

### bridge_hangup_cause

字符串，该字段设置为呼叫的最后一个B路的挂断原因。如果您设置了`continue_on_fail=true`和`hangup_after_bridge=false`，您可以检查它来查看呼叫的"真正"情况。例如，您可以在桥接之后执行`execute_extension`，对`${bridge_hangup_cause}`进行条件检查，看看它是否包含`MEDIA_TIMEOUT`，然后触发呼叫的重新拨号或转接到手机上。有关挂断原因的列表，请参见[挂断原因](../Troubleshooting-Debugging/Hangup-Cause-Code-Table_3964945.mdx#about)。

**用法**

```xml
<action application="log" data="1 B-leg hangup cause: ${bridge_hangup_cause}"/>
```

### bridge_pre_execute_aleg_app

字符串，将在桥接两个通道之前在A路上执行的命令或API。可以通过设置[bridge_pre_execute_aleg_data](Variables-Master-List_16352570.mdx#bridge_pre_execute_aleg_data)来传递应用程序参数。

![(warning)](/images/icons/emoticons/warning.svg) 这个在通话建立后但媒体（音频）桥接前执行。

### bridge_pre_execute_aleg_data

string 用于与 [bridge_pre_execute_aleg_app](Variables-Master-List_16352570.mdx#bridge_pre_execute_aleg_app) 一起使用的参数。

### bridge_pre_execute_bleg_app

string 在桥接两个通道之前在 B 腿上执行的命令或 API。当从事件套接字、CLI 或 XML-RPC 发起呼叫时非常有用。

例如，可以使用此功能通过脚本或 mod_http 向 Snom 电话的 IP 地址发送 HTTP GET 请求以增加振铃音量，如果需要进行唤醒呼叫。

还可以将 DTMF 绑定到呼叫的 b 腿上的应用程序，以便在转接时保持生效。

可以通过 [bridge_pre_execute_bleg_data](Variables-Master-List_16352570.mdx#bridge_pre_execute_bleg_data) 将参数传递给应用程序。

![(warning)](/images/icons/emoticons/warning.svg) 这个在通话建立后但媒体（音频）桥接前执行。

**使用示例**

```xml
<action application="set" data="bridge_pre_execute_bleg_app=bind_meta_app"/>
<action application="set" data="bridge_pre_execute_bleg_data=1 a s att_xfer::sofia/profile/destination"/>
```

### bridge_pre_execute_bleg_data

string 用于与 [bridge_pre_execute_bleg_app](Variables-Master-List_16352570.mdx#bridge_pre_execute_bleg_app) 一起使用的参数。

**使用示例**

```xml
<action application="set" data="bridge_pre_execute_bleg_app=bind_meta_app"/>
<action application="set" data="bridge_pre_execute_bleg_data=1 a s att_xfer::sofia/profile/destination"/>
```

### bridge_stamp

string

### bridge_terminate_key

dtmf digit 允许您绑定一个按键，如果 DTMF 匹配，则桥接将终止。

你可以在任何一个或两个路由上设置 `bridge_terminate_key`，如果它挂断或者没有挂断则取决于 [hangup\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge)`=false` 或者你拨号计划中的下一个步骤。

### bridge_to

字符串

### bridge_uepoch

整数

### bridge_uuid

字符串

### bypass_keep_codec

布尔值 通过将 `bypass_keep_codec=true` 进行导出以强制使用之前使用的相同编解码器重新邀请。

### bypass_media

布尔值 设置后，起始端点的媒体（RTP）直接发送到目标端点，反之亦然。两个端点的信令（SIP）仍然通过FreeSWITCH进行，但是媒体是点对点的。参见：[Bypass Media概述](../Codecs-and-Media/Bypass-Media-Overview/index.mdx#faq)

**用法**

```xml
<action application="set" data="bypass_media=true"/>
```

### bypass_media_after_bridge

布尔值 与 [bypass\_media](Variables-Master-List_16352570.mdx#bypass_media) 相同，但是在呼叫到达应答状态（并且已经处理了一些RTP帧）之前，它将处理呼叫的媒体。在这一点上，FreeSWITCH将使用重新邀请将自己从媒体路径中移除。这有助于减少音频延迟并减轻FreeSWITCH的负担。对于位于Coned NAT之后的UAC特别有用，因为它给RTP自动调整足够的时间来确定避免单向音频的正确端口。

### cache_dir

字符串

### cache_speech_handles

字符串

### call_clientcode

字符串 这是SNOM电话使用的。当FreeSWITCH接收到带有 `x-clientcode` 头的 `SIP INFO` 消息时，该变量被设置为该头的值。

### call_timeout (已废弃)

整数，控制在使用bridge应用程序时，为呼叫的B端设置振铃时间（以秒为单位）。超时时间设置在A端，并适用于通道中发生的任何桥接。

如果您需要为没有A端的呼叫设置超时时间，请使用[originate\_timeout](Variables-Master-List_16352570.mdx#originate_timeout)。

如果您需要在企业桥接/发起呼叫中设置超时时间，请使用[originate\_timeout](Variables-Master-List_16352570.mdx#originate_timeout)。

如果您需要按每个呼叫腿设置超时时间（即每个目标的不同超时时间），请使用[leg\_timeout](Variables-Master-List_16352570.mdx#leg_timeout) 变量。

请注意，如果您没有使用 `{`[ignore\_early\_media](Variables-Master-List_16352570.mdx#ignore_early_media)`=true}`，则一旦接收到早期媒体信号，`call_timeout` 将不再适用。

  
**默认值：** 60

**用法**

```xml
<action application="set" data="call_timeout=20"/>
```

如果要指定呼叫超时时间来对group\_call()列表进行设置，请使用以下格式：

```xml
<action application="bridge" data="{originate_timeout=24}${group_call(sales@$${domain})}"/>
```

### 另请参阅

[bridge\_answer\_timeout](Variables-Master-List_16352570.mdx#bridge_answer_timeout) \- 设置绕过早期媒体的未接听超时时间  

[leg\_timeout](Variables-Master-List_16352570.mdx#leg_timeout) \- 对个别呼叫腿设置未接听超时时间

[originate\_timeout](Variables-Master-List_16352570.mdx#originate_timeout) \- 设置绕过早期媒体的未接听超时时间
  
  
### callee_id_name

字符串

### callee_id_number

字符串

### caller_id_name

字符串，只读。通过呼入呼叫设置的呼叫方 ID 名称，不是真正的变量。实际上仅可读。

### caller_id_number

只读字符串，被呼入通话设置的来电号码，不是一个真实的变量。在实际中是只读的。从sofia.c，使用的值（按优先顺序）来自于： `P-Preferred-Identity`，`P-Asserted-Identity`，`Remote-Party-ID`，以及 `From` 标头。

### campon

布尔值，控制是否启用呼入露营。

默认值：`false`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_announce_sound

字符串，第一次桥接失败后要播放的文件（例如，播放提示按哪个键跳转到备选分机）。

默认值：`none`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_stop_key=1"/>
<action application="set" data="campon_announce_sound=press_one_to_stop.wav"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_fallback_context

字符串，可选的环境名称，用于将呼叫转移到备选项

### campon_fallback_dialplan

字符串，可选的呼叫计划名称，用于将呼叫转移到备选项

### campon_fallback_extension

字符串，呼叫转移到备选项的分机号码

### campon_hold_music

字符串，露营期间播放的可选保持音乐，而不是默认的[hold_music](Variables-Master-List_16352570.mdx#hold_music)。

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_hold_music=/data/campmusic/RelaxingCampSounds.wav"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_retries

整数，指定在回退之前，尝试桥接的次数限制。

默认值：`100`

**用法**

```xml
<action application="set" data="codec_string=AMR-WB,GSM"/>

### campon_sleep

整数 控制重试之前等待的时间。

默认值：`10`

**使用方法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_sleep=30"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_stop_key

DTMF 按键 用于中断 campon 循环并直接跳转到备用分机的 DTMF 按键。

默认值：`none`

**使用方法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_stop_key=1"/>
<action application="set" data="campon_announce_sound=press_one_to_stop.wav"/>
<action application="set" data="campon_fallback_exten=1000"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_timeout

整数 此变量控制尝试每次桥接的超时时间。它的工作原理与 [call\_timeout](Variables-Master-List_16352570.mdx#leg_timeout) 相同，但仅适用于 camping。

默认值：`10`

**使用方法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_timeout=20"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### cdr_csv_base

字符串

### certs_dir

字符串

### CHANNEL

字符串

### channel_name

字符串

### codec_string

字符串 设置要使用的基本编解码器字符串。

**使用方法**

```xml
<action application="set" data="codec_string=PCMU,GSM"/>
```

### conf_dir

字符串

### conference_auto_outcall_announce
```

[string 播放音频消息的文件名，用于通过 [conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-) 应用程序加入会议的会议成员。因为会议将会对会员发起外呼电话，所以通常会播放一个问候词，并说明接收者将要加入一个会议通话。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_announce=sounds/soundfile.wav"/>
```

### conference_auto_outcall_caller_id_name

用于通过 [conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-) 应用程序拨打终端加入会议时使用的呼叫者 ID 名称。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_caller_id_name=$${effective_caller_id_name}"/>
```

### conference_auto_outcall_caller_id_number

用于通过 [conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-) 应用程序拨打终端加入会议时使用的呼叫者 ID 号码。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_caller_id_number=${effective_caller_id_number}"/>
```

### conference_auto_outcall_flags

用于通过 [conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-) 应用程序加入会议的成员设置的会议标志。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_flags=mute"/>
```

### conference_auto_outcall_maxwait

发起 [conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-) 的通道等待会员加入会议的最长时间，以秒为单位。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_maxwait=10"/>
```

### conference_auto_outcall_prefix

string `conference_auto_outcall_prefix`的值会添加到每个[conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-)的值之前，可以有多个值。

**使用方法**

```xml
<extension name="mad_boss_intercom">
  <condition field="destination_number" expression="^0911$">
    <action application="set" data="conference_auto_outcall_caller_id_name=Mad Boss1"/>
    <action application="set" data="conference_auto_outcall_caller_id_number=0911"/>
    <action application="set" data="conference_auto_outcall_timeout=60"/>
    <action application="set" data="conference_auto_outcall_flags=mute"/>
    <action application="set" data="conference_auto_outcall_prefix={sip_auto_answer=true,execute_on_answer='bind_meta_app 2 a s1 transfer::intercept:${uuid} inline'}"/>
    <action application="set" data="sip_exclude_contact=${network_addr}"/>
    <action application="conference_set_auto_outcall" data="${group_call(sales)}"/>
    <action application="conference" data="madboss_intercom1@default+flags{endconf|deaf}"/>
  </condition>
</extension>
```

### conference_auto_outcall_profile

string 设置会议成员通过[conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-)应用程序加入会议时使用的会议配置文件。

**使用方法**

```xml
<action application="set" data="conference_auto_outcall_profile=default"/>
```

### conference_auto_outcall_timeout

integer 使用[conference\_set\_auto\_outcall](../Conference/index.mdx#-freeswitch--conference-)应用程序将成员加入会议时使用的发起超时。

该变量控制外呼通话的响铃时间。因此，如果您不忽略早期媒体，它可能永远不会有机会递增。

**用法**

```xml
<action application="set" data="conference_auto_outcall_timeout=60"/>
```

### conference_controls

字符串。设置此变量以指定在将呼叫转接到会议时要使用的会议控制集。例如，这样一来，您可以为会议主持人设置一个控制集，为常规会议成员设置另一个控制集。会议主持人的控制集可以包括静音或踢人等功能。

![(info)](/images/icons/emoticons/information.svg)您必须创建所需的会议控制集。另外，如果没有设置该变量，则会使用默认的会议控制集作为会议成员的控制集。

**用法**

```xml
<action application="set" data="conference_controls=moderator"/>
```

### conference_enforce_security

布尔值。允许覆盖会议安全性。这适用于两种不同场景，一种是入站呼叫，另一种是出站呼叫。默认情况下，会议安全性始终适用于入站呼叫，并且始终跳过出站呼叫的安全性检查。该通道变量允许修改此行为。

**用法**

入站呼叫：

```xml
<action application="set" data="conference_enforce_security=false"/>
<action application="conference" data="3000"/>
```

出站呼叫：

```xml
originate {conference_enforce_security=true}sofia/internal/1001 &conference(3000)
```

### conference_enter_sound

字符串。设置该通道变量后，将覆盖呼叫腿转接到的任何会议的 enter-sound 参数。

**用法**

```xml
<action application="set" data="conference_enter_sound=silence_stream://10"/>
```

### conference_exit_sound 会议离开声音

string 字符串

**用法**

```xml
<action application="set" data="conference_exit_sound=silence_stream://10"/>
```

### conference_input_buffer_flush_msec 会议输入缓冲刷新毫秒数

如果输入缓冲（该成员的音频输入到会议中）超过 x 毫秒，则清除缓冲区。默认值为 500。
在 FreeSWITCH Enterprise v20.23.2 中添加。

### conference_last_matching_digits 会议最后匹配的号码

dtmf digit 只读 包含用户在该通道上发送到会议的最后匹配的数字。

**用法**

```xml
<action application="log" data="INFO Last digits sent by this user: ${conference_last_matching_digits}"/>
```

### conference_member_id 会议成员 ID

string 包含通道可能连接的任何会议的 `conference_member_id` 值。

### conference_moderator 会议主持人

boolean 如果通道以主持人身份连接到会议，则为 `true`。

### conference_output_buffer_flush_msec 会议输出缓冲刷新毫秒数

如果输出缓冲（会议到该成员的音频）超过 x 毫秒，则清除缓冲区。默认值为 500。
当达到限制时，会在 DEBUG 级别记录 `Flushing output buffer (getting behind) mux_used=%d flush_len=%d`。
在 FreeSWITCH Enterprise v20.23.2 中添加。

### conference_output_discard_low_energy 会议输出丢弃低能量包

如果数据包的能量级别小于此值，并且输出缓冲区（会议到该成员的音频）中有超过 2 个数据包等待，则丢弃此数据包。必须先发送一些低能量的数据包，然后才能丢弃任何数据包，以避免完全截断静音。要丢弃会议中的标准舒适性噪声，将此值设置为 15 或更高。默认值为 0（不丢弃低能量数据包）。
在 FreeSWITCH Enterprise v20.23.2 中添加。

### conference_recording 会议录音

字符串 包含与频道连接的会议记录的文件名。

### conference_uuid

字符串 每个会议实例都有自己的UUID。该频道变量存储了频道最近所属的会议的UUID。一旦频道进入会议，它就会被设置，并显示在XML CDR和uuid_dump调用中，以及显示频道变量的任何事件中。

### continue_on_fail

字符串 控制当被呼叫方无法接通（忙线/离线）时发生的情况。如果是 `true`，则继续处理拨号计划。如果是 `false`，则停止处理拨号计划。也可以包含将在失败时继续进行的返回消息。

**用法**

```xml
<action application="set" data="continue_on_fail=true"/>
```

```xml
<action application="set" data="continue_on_fail=NORMAL_TEMPORARY_FAILURE,USER_BUSY,NO_ANSWER,NO_ROUTE_DESTINATION"/>
```

使用Q.850原因代码：

```xml
<action application="set" data="continue_on_fail=3,17,18,27"/>
```

### copy_xml_cdr

字符串 将另一条腿的XML CDR复制到本条腿的CDR中。例如，A腿的CDR将包含一个名为`b_leg_cdr`的变量，其内容为B腿的URL编码的XML CDR数据。该变量必须在B腿上设置，因此在拨号字符串中使用`{copy_xml_cdr=true}`或者使用`export`而不是`set`。

**用法**

```xml
<action application="bridge" data="{copy_xml_cdr=true}user/${dialed_extension}@${domain_name}"/>
```

### core_uuid

字符串

### created_time

字符串 包含呼叫创建的开始时间（以微秒为单位）。

在呼叫转接的情况下，此变量将包含整个呼叫创建的时间，而不是具体的转接时间。如果您需要转接创建的时间，请参考[profile_created_time](Variables-Master-List_16352570.mdx#profile_created_time)和[variable_progress_time](Variables-Master-List_16352570.mdx#leg_progress_timeout)。

### current_application

字符串

### current_application_data

字符串

### current_application_response

字符串

### data

字符串

### db_dir

字符串

### default_language

字符串 控制默认语言的[Say Phrase engine](../Configuration/Speech-Phrase-Management_9634492.mdx#0-about)在API调用中未明确指定语言时使用的语言。这使您可以通过仅更改通话时的一个变量来轻松支持多种语言。

**用法**

```xml
<action application="set" data="default_language=fr"/>
```

### deny_refer_requests

字符串 如果在桥接的SIP呼叫的任一路中设置此变量为`true`，并且另一端发送了一个`REFER`请求，FreeSWITCH将拒绝该请求。

### destination_number

字符串

另请参阅[Variables Master List](Variables-Master-List_16352570.mdx#id)（尽管该变量也在那里列出，但没有任何说明）。

### detect_speech_result

字符串 只读 [play_and_detect_speech](../Modules/mod_dptools_1970333.mdx#-c)的结果。

### dialed_domain

字符串

### dialed_group

字符串

### dialed_user

字符串

### digits_dialed  
字符串

**注**

似乎是DTMF缓冲区，但似乎只在挂机时设置。至少只在`CHANNEL_HANGUP`和`CHANNEL_HANGUP_COMPLETE`中显示出来，但然后所有输入的DTMF数字都在那里。

TODO 那么缓冲区在哪里，如何访问它并刷新它？（对于长时间运行的IVR来说，后者可能很重要）。

更新：这不是DTMF缓冲区...

### direction

字符串 用于确定呼叫的特定通路是进站还是出站。

**用法**

```xml
<condition field="${direction}" expression="^inbound$">
```

### disable_app_log

布尔值

### disable_q850_reason

布尔值 当设置为 true 时，禁止在响应和BYE请求中发送含有Q.850原因编码的Reason头。有关挂机原因和其Q.850编码的列表，请参见[挂机原因](../../Channel-Variables-Catalog/hangup_cause_16352598.mdx#hangup_cause)。此功能可在2009年12月8日提交的修订版15850中使用。

**用法**

```xml
<action application="set" data="disable_q850_reason=true"/>
```

### disable_radius_start

布尔值

### disable_radius_stop

布尔值

### disable_rtp_auto_adjust

字符串 如果 RTP 自动调整的行为不符合预期，请禁用它。它会阻止 FreeSWITCH 根据源地址重写 RTP 目标地址。当 RTP 自动调整打开时，FreeSWITCH 会根据接收到的 RTP 数据包的源地址更改目标 RTP 地址，如果另一端实际上希望在不同地址上发送和接收，则此功能不起作用。

**用法**

```xml
在拨号字符串中添加 {disable_rtp_auto_adjust=true}。
```

### DISPLACE_HANGUP_ON_ERROR

布尔值 当设置为 `true` 时，此通道变量将在尝试通过[mod\_commands#uuid\_displace](../Modules/mod_commands_1966741.mdx#uuid_displace)命令替换呼叫时出现错误时导致呼叫挂断。默认值为 `false`。在2013/03/21之前的默认行为是挂断呼叫。

**用法**

```xml
<action application="set" data="DISPLACE_HANGUP_ON_ERROR=true"/>
```

### dl_cid_msg

字符串

### dl_from_host

string

### dl_from_user

string

### dl_host

string

### dl_user

string

### domain_name

string

### drop_dtmf

boolean 在接通前呼叫通道或者在桥接/发起呼叫前设置该选项，防止DTMF事件发送到通道。

已经经过RFC2833测试，也可能适用于INFO/inband。请参见[FS-4769](https://freeswitch.org/jira/browse/FS-4769?src=confmacro) - [Authenticate](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266) 查询详细信息。 版本提交 [60f7849cbe72](https://freeswitch.org/stash/projects/FS/repos/freeswitch/commits/60f7849cbe72)。

[RFC 2833](https://tools.ietf.org/html/rfc2833) 已被[RFC 4733](https://tools.ietf.org/html/rfc4733) 取代。

**用法**

```xml
<action application="set" data="drop_dtmf=true"/>
<action application="answer"/>
```

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="bridge" data="sofia/internal/100@1.2.3.4"/>
```

```xml
<action application="bridge" data="{drop_dtmf=true}sofia/internal/100@1.2.3.4"/>
```

### drop_dtmf_masking_digits

dtmf digit 如果 `drop_dtmf` 设置为 `true`，则对每个收到的DTMF音调播放指定的音调。

**用法**

a-leg输入的每个DTMF音调都将被丢弃，并在b-leg发送一个"d"。

```xml
<action application="set" data="drop_dtmf=true"/>
<action application="set" data="drop_dtmf_masking_digits=d"/>
```

要在b-leg上删除和替换DTMF，请使用：

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="export" data="nolocal:drop_dtmf_masking_digits=d"/>
```

### drop_dtmf_masking_file

如果 `drop_dtmf` 为 `true`，则播放指定文件以替换每个接收到的DTMF音调。

**用法**

输入到a-leg的每个DTMF音调都将被丢弃，并播放文件 `dtmf_masking_tone` 到b-leg。

```xml
<action application="export" data="drop_dtmf=true"/>
<action application="export" data="drop_dtmf_masking_file=/etc/freeswitch/Sounds/dtmf_masking_tone"/>
```

要在b-leg上删除和替换DTMF，请使用

```xml
<action application="export" data="nolocal:drop_dtmf=true"/>
<action application="export" data="nolocal:drop_dtmf_masking_file=/etc/freeswitch/Sounds/dtmf_masking_tone" />
```

A、B、C、D音调

请确保期望接收（和处理）DTMF音调 `A` 、 `B` 、 `C` 和 `D` ；虽然这些音调在现在很少见，但仍然可能发送（例如，某人使用带有额外的ABCD行的旧设备）。更多信息请参阅 [DTMF](../Configuration/DTMF_9634268.mdx#5-other) 。

### dtmf_type

string 对于inband DTMF，必须在拨号计划中使用 [start\_dtmf](../Modules/mod_dptools_1970333.mdx#-c) 。

**用法**

```xml
<action application="set" data="dtmf_type=info"/>
```

```xml
<action application="set" data="dtmf_type=rfc2833"/>
```

TODO [RFC 2833](https://tools.ietf.org/html/rfc2833) 已被 [RFC 4733](https://tools.ietf.org/html/rfc4733) 废弃。

```xml
<action application="set" data="dtmf_type=none"/>
```

### dtmf_verbose

boolean 启用Spandsp DTMF检测器的详细日志记录。默认值为 `false` 。在执行 [spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications) 之前设置此变量。

**用法**

```xml
<action application="set" data="dtmf_verbose=true"/>
<action application="spandsp_start_dtmf" />
```

### duration

integer

### easy_acctcode

string

### easy_destnum

string

### easy_dialstring

string

### easy_group

string

### easy_limit

string

### eavesdrop_annnounce_macro

string

### eavesdrop_announce_id

string

### eavesdrop_group

string

### eavesdrop_indicate_failed

string

### eavesdrop_indicate_idle

string

### eavesdrop_indicate_new

string

### eavesdrop_require_group

string

### effective_ani

string

### effective_aniii

string

### effective_caller_id_name

string 设置有效的主叫方名称。该值会自动导出到B路，但在发起呼叫时不在origination字符串中有效。换句话说，在呼叫桥接之前设置该值，否则使用[origination_caller_id_name](Variables-Master-List_16352570.mdx#origination_caller_id_name)。

Snom 370/820

如果您希望当B路（这里是本地Snom）响起时立即显示A路的名称（如果有），您需要根据上述说明设置`origination_caller_id_name`或`effective_caller_id_name`。否则，在B路的显示中，在响铃时会看到A路的号码，并在B路接听电话后切换到A路的名称。要删除它，将其设置为`_undef_`。

**使用方法**

```xml
<action application="set" data="effective_caller_id_name=Bob Smith"/>
```

### effective_caller_id_number

string 设置有效的主叫方号码。该值会自动导出到B路，但在发起呼叫时不在origination字符串中有效。换句话说，在呼叫桥接之前设置该值，否则使用[origination_caller_id_number](Variables-Master-List_16352570.mdx#origination_caller_id_number)。

**使用方法**

```xml
<action application="set" data="effective_caller_id_number=9185551212"/>
```

### effective_sip_cid_in_1xx

boolean 防止FreeSWITCH在从B路接收到183并将其发送给A路之前自动插入RPID。

**使用方法**

```xml
<action application="set" data="sip_cid_in_1xx=false"/>
```

### enable_file_write_buffering

开启文件缓冲以便在录制文件时使用，默认为 `true`。如果没有设置，将使用 `SWITCH_DEFAULT_FILE_BUFFER_LEN` 作为缓冲区大小，但也可以使用字节大小进行覆盖设置（请参考下面的例子）。[邮件列表讨论](http://lists.freeswitch.org/pipermail/freeswitch-users/2012-April/082835.html)

**用法**

```xml
<action application="set" data="enable_file_write_buffering=false"/>
```

```xml
<action application="set" data="enable_file_write_buffering=true"/>
```

```xml
<action application="set" data="enable_file_write_buffering=65535"/>
```

### enable_heartbeat_events

布尔类型

### end_epoch

整型

### end_stamp

字符串类型

### end_uepoch

整型

### endpoint_disposition

字符串类型

### ep_codec_prefer_sdp

字符串 `ep_codec_prefer_sdp` 包含了 A 线路上的 "endpoint" 编解码器字符串。编解码器的优先顺序由 A 线路选择。

### ep_codec_string

字符串 `ep_codec_string` 包含了 A 线路上的 "endpoint" 编解码器字符串，该编解码器列表只包含 A 线路和 FreeSWITCH 之间双方都支持的编解码器。只有当 SIP 配置文件启用了 [inbound-late-negotiation](../Modules/mod_sofia_1048707.mdx#about) 时，才会设置该变量。

![(info)](/images/icons/emoticons/information.svg) 当列表中有多个编解码器时，优先顺序由 FreeSWITCH 选择，而不是由 A 线路选择。

**用法**

```xml
<action application="bridge" data="{absolute_codec_string=${ep_codec_string}}sofia/foo/bar@baz"/>
```

### exec_after_bridge_app

在桥接终止后执行应用程序命令。与 [exec\_after\_bridge\_arg](Variables-Master-List_16352570.mdx#exec_after_bridge_arg) 一起使用。相比之下，要在桥接建立后执行，请使用 [execute_on_answer](Variables-Master-List_16352570.mdx#execute_on_answer)。

**用法**

```xml
<action application="set" data="exec_after_bridge_app=transfer"/>
<action application="set" data="exec_after_bridge_arg=2102"/>
```

### exec_after_bridge_arg

将参数传递给 [exec\_after\_bridge\_app](Variables-Master-List_16352570.mdx#exec_after_bridge_app)。

**用法**

```xml
<action application="set" data="exec_after_bridge_app=transfer"/>
<action application="set" data="exec_after_bridge_arg=2102"/>
```

### execute_on_answer

在被叫方接听时执行一个应用程序（而不是API）。要设置一个api，请使用 [api\_on\_answer](Variables-Master-List_16352570.mdx#api_on_answer)。`execute_on_answer` 还允许在处理无应答情况时更加灵活，特别是在不能忽略早期媒体的情况下。

该命令只对尚未接听的通道执行。只需使用 `export` 或带有 `nolocal:` 前缀的 `export`，以确保在 b-leg 接听时执行。

在下面的第二个用例中，我们发起了一个呼出到本地分机的电话，在等待 30 秒的同时手动忽略媒体。在这种情况下，我们使用 `set` 而不是 `export`。

**用法**

```xml
<action application="export" data="nolocal:execute_on_answer=lua incrInUse.lua ${uuid}"/>
```

等待 30 秒后接听，并“手动”忽略早期媒体：

```xml
originate {ignore_early_media=true}sofia/gateway/my_gateway/5551212 885551212
```

```xml
<extension name="exe_on_ans">
  <condition field="destination_number" expression="^88(\d+)$">
    <action application="set" data="execute_on_answer=transfer ANSWEREDCALL XML default"/>
    <action application="log" data="INFO 等待 $1 回答30秒..."/>
    <action application="sleep" data="30000"/>
    <action application="log" data="INFO $1 未回复电话，采取备选方案..."/>
    <action application="transfer" data="UNANSWEREDCALL XML default"/>
  </condition>
</extension>
```

### execute_on_fax_detect

字符串

### execute_on_fax_failure

字符串

### execute_on_fax_result

字符串

### execute_on_fax_success

字符串

### execute_on_media

字符串 当对端发送媒体（例如响铃或183/SDP）时，执行一个应用程序。

该命令仅在尚未回答的通道上执行。只需使用 `export` 或 `export` 与 `nolocal:` 前缀，以确保在呼叫 b-leg 回答时执行。

在下面的第二个示例中，我们发起了一个对本地分机的呼出电话，我们将等待30秒而不忽略媒体。在这种情况下，我们使用的是 `set` 而不是 `export`。

**用法**

```xml
<action application="export" data="nolocal:execute_on_media=lua incrInUse.lua ${uuid}"/>
```

等待30秒的响应，不忽略早期媒体：

```xml
originate sofia/gateway/my_gateway/5551212 885551212
```

```xml
<extension name="exe_on_ans">
  <condition field="destination_number" expression="^88(\d+)$">
    <action application="set" data="execute_on_media=transfer ANSWEREDCALL XML default"/>
    <action application="log" data="INFO 等待30秒，等待 $1 接听..."/>
    <action application="sleep" data="30000"/>
    <action application="log" data="INFO 未接听 $1 的呼叫，执行备选动作..."/>
    <action application="transfer" data="UNANSWEREDCALL XML default"/>
  </condition>
</extension>
```

### execute_on_media_timeout

string 在远端停止发送媒体并超时时执行一个应用。

**用法**

```xml
<action application="export" data="nolocal:execute_on_media_timeout=lua oops_timeout.lua ${uuid}"/>
```

```xml
<action application="set" data="execute_on_media_timeout=transfer HANDLE_MEDIA_TIMEOUT XML default"/>
```

### execute_on_originate

string

执行语法: `<应用程序> <参数>`

异步语法: `<应用程序>::<参数>`

在成功发起呼叫后执行的代码。

成功发起意味着远程服务器有响应，而不是呼叫实际被接听。

  
**用法**

```xml
originate {ignore_early_media=true,execute_on_originate='cng_plc'}sofia/gateway/foo/123456789 9664
```

```xml
originate {ignore_early_media=true,execute_on_originate='my_app::my_arg'}sofia/gateway/foo/123456789 9664
```

### execute_on_post_bridge

STRING

### execute_on_post_originate

string

### execute_on_pre_answer

string 当被叫方"preanswers"时（即，当某种形式的早期媒体到来或对方发送一个180响铃时），执行一个应用程序（不是API）。

该命令仅在尚未接听的通道上执行。只需使用`export`或带有`nolocal:`前缀的`export`来确保在B-leg接听时执行它。

在下面的第二个使用示例中，我们发起了一个对本地分机的外呼，我们将等待30秒而不忽略媒体。在这种情况下，我们使用的是`set`而不是`export`。

**用法**

```xml
<action application="export" data="nolocal:execute_on_pre_answer=lua incrInUse.lua ${uuid}"/>
```

等待30秒以获取回答，而不忽略早期媒体：

```xml
originate sofia/gateway/my_gw/5551212 885551212
```

```xml
<extension name="exe_on_preans">
  <condition field="destination_number" expression="^88(\d+)$">
    <action application="set" data="execute_on_pre_answer=transfer ANSWEREDCALL XML default"/>
    <action application="log" data="INFO Waiting 30 seconds for $1 to answer..."/>
    <action application="sleep" data="30000"/>
    <action application="log" data="INFO Call to $1 was not answered, taking alternative action..."/>
    <action application="transfer" data="UNANSWEREDCALL XML default"/>
  </condition>
</extension>
```

### execute_on_pre_bridge

这将在通话被接听并进行媒体交换后执行。如果例如你的拨号计划扩展中的 REFER 命令阻塞了10秒，那么请使用它来代替`execute\_on\_answer`。

字符串

### execute_on_pre_originate

字符串

### execute_on_ring

字符串 当被呼叫的一方响铃时执行命令。

**用法**

```xml
<action application="set" data="nolocal:execute_on_ring=lua markring ${uuid}"/>
```

### execute_on_sip_extra_headers

字符串 当探测到SIP消息中存在额外的SIP头时执行命令。

### execute_on_sip_reinvite

字符串 当SIP重新邀请时执行命令。

### execute_on_tone_detect

字符串

### export_vars

字符串`export_vars`列出了要导出到桥接上的其他腿的变量。与[export](../Modules/mod\_dptools\_1970333.mdx#-c)不同的是，它仅列出要导出的变量，而不对其进行设置。

![(info)](/images/icons/emoticons/information.svg) 这对于将信息从a腿（INVITE）传输到将来的b腿（REFER）非常有用。

### EXTEN

字符串

### fail_on_single_reject

字符串 当在桥接的`data`字段中使用**`,`**和操作符时，这是非常有用的。AND操作符通知一系列目的地，桥接到接受呼叫的第一个目的地。通常，如果列表中的一个目的地拒绝了该呼叫，桥接将继续尝试，直到另一个目的地接受呼叫或超时发生。请参阅下面的示例，了解如何使用`fail_on_single_reject`和**`|`**或操作符。

这个变量允许在呼叫被拒绝时终止桥接尝试。这意味着桥接尝试将失败，如果未设置[continue\_on\_fail](Variables-Master-List_16352570.mdx#continue\_on\_fail)，则呼叫将被终止。此变量将在桥接应用程序之前的条件中设置。当与`continue_on_fail`变量一起使用时，可以执行将被拒绝的呼叫方转接到一个答录机应用程序等操作。

默认设置为`false`，表示单个拒绝不会终止桥接尝试。

也可以将其设置为[故障原因](../Troubleshooting-Debugging/Hangup-Cause-Code-Table_3964945.mdx#about)列表以终止，并可以否定为不终止的原因列表（即终止所有其他故障原因）。

**用法**

```xml
<action application="set" data="fail_on_single_reject=true"/>
<action application="bridge" data="sofia/$${profile}/$${kitchen}%$${domain},sofia/$${profile}/$${dining}%$${domain}"/>
<action application="javascript" data="answermachine.js"/>
```

```xml
<action application="set" data="fail_on_single_reject=USER_BUSY"/>
```

```xml
<action application="set" data="fail_on_single_reject=!NORMAL_CIRCUIT_CONGESTION"/>
```

使用列表：

```xml
<action application="set" data="fail_on_single_reject=^^:CALL_REJECTED:NORMAL_CLEARING:USER_BUSY"/>
```

用于否定列表：

```xml
<action application="set" data="fail_on_single_reject=!^^:ALLOTTED_TIMEOUT:NETWORK_OUT_OF_ORDER"/>
```

对于使用OR运算符的情况，请考虑以下示例。在此示例中，拨号计划将呼叫同时发送到多个网关。如果发生`GATEWAY_DOWN`或`INVALID_GATEWAY`错误，桥接不应失败（即否定的`fail_on_single_reject`），并且拨号计划应继续执行（即`continue_on_fail`）：

```xml
<action application="set" data="continue_on_fail=GATEWAY_DOWN,INVALID_GATEWAY"/>
<action application="set" data="fail_on_single_reject=!^^:GATEWAY_DOWN:INVALID_GATEWAY"/>
<action application="set" data="hangup_after_bridge=true"/>
<action application="bridge" data="sofia/gateway/gw1/$1|sofia/gateway/gw2/$1|sofia/gateway/gw3/$1"/>
```

### failed_xml_cdr_prefix

string 如果在A leg上设置了该值，并且所有失败的B源都会生成一个完整的XML CDR报告并将其设置为一个变量，包括forked dial的情况。

假设您尝试呼叫`sofia/profile/a@xxxxxxx,sofia/profile/b@xxxxxxx`。

如果完全失败，在进行呼叫之前，您设置`failed_xml_cdr_prefix`为"bad_call"。

然后你最终得到`${bad_call_1}`和`${bad_call_2}`，它们分别是完整的XML报告，包括所有的变量等。

**用法**

```xml
<action application="set" data="failed_xml_cdr_prefix=failinggw" />
```

### failure_causes

字符串 控制哪些故障原因将被视为对桥接器的故障。除非`continue_on_fail`设置为`true`，否则[continue\_on\_fail](Variables-Master-List_16352570.mdx#continue_on_fail)的值将默认发生变化。

**用法**

```xml
<action application="set" data="failure_causes=USER_BUSY,NO_ANSWER"/>
```

使用Q.850原因码：

```xml
<action application="set" data="failure_causes=487"/>
```

### fax_bad_rows

字符串

### fax_disable_v17

布尔型 `fax_disable_v17` 防止使用V.17（9,600bps至14,400bps）传真调制解调器。这意味着传真将被限制为使用V.29（9,600bps和7,200bps）和V.27ter（4,800bps）。对于处理V.17不太好的VoIP系统来说，禁用该调制解调器通常是有充分理由的。

### fax_document_total_pages

整数

### fax_document_transferred_pages

整数

### fax_ecm_requested

布尔型

### fax_ecm_used

布尔型

### fax_end_page

字符串

### fax_filename

字符串

### fax_force_caller

布尔型

### fax_header

字符串

### fax_ident

字符串

### fax_image_resolution

字符串

### fax_image_size

字符串

### fax_local_station_id

字符串

### fax_prefix

字符串

### fax_remote_station_id

字符串

### fax_result_code

字符串

| **结果代码** | **消息**                                               |
| --------------- | ------------------------------------------------- |
| 0               | 正常                                                 |
| 2               | 超时等待初始通信                                  |
| 3               | 超时等待第一条消息                                |
| 5               | HDLC承载没有及时停止                         |
| 6               | 无法与兼容的调制解调器建立连接         |
| 13              | 接收到意外的消息                                  |
| 14              | 对DCS或训练的响应错误                         |
| 15              | 发送页面后远程方返回了一个DCN   |
| 17              | 等待DIS时接收到了DCN                       |
| 20              | 对DCS或TCF没有回应                            |
| 23              | 从发射方接收到无效的ECM响应              |
| 31              | 等待传真页面时T2计时器过期                |
| 32              | 等待下一个传真页面时T2计时器过期      |
| 48              | 允许的重试次数后断开连接                  |
| 49              | 通话意外中断                                        |

### fax_result_text

字符串

### fax_start_page

字符串

### fax_success

布尔值

### fax_transfer_rate

字符串

### fax_use_ecm

布尔值

### fax_v17_disabled

布尔值

### fax_verbose

布尔值

### fifo_announce

字符串 如果在调用`fifo`时没有提供announce文件作为参数，[mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add)将使用`fifo_announce`的值作为默认值。

### fifo_bridged

布尔值 当手动跟踪呼叫时，[mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add)将`fifo_bridged`设置为`true`。

### fifo_caller_consumer_import

从调用者导入变量列表到消费者。

**用法**

```xml
<action application="set" data="fifo_caller_consumer_import=var1,var2"/>
```

### fifo_caller_exit_key

数字按键 当调用者拨打您在`fifo_caller_exit_key`中定义的任何一个数字时，他们将退出排队。

### fifo_chime_freq

整数 播放每个琴声之间的等待时间。

### fifo_chime_list

字符串 用逗号分隔的文件列表，用于在等待别人接听电话时广播给顾客。

### fifo_consumer_caller_import

字符串 从消费者导入变量列表到调用者。

**用法**

```xml
<action application="set" data="fifo_consumer_caller_import=var1,var2"/>
```

### fifo_consumer_exit_key

数字按键 当按下`fifo_consumer_exit_key`时，我们会挂断调用者（除非我们把调用者放在等候状态）。

### fifo_consumer_id

字符串 如果设置，[mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add)会在消费者接听一个来自队列的电话时，将[fifo\_serviced\_by](Variables-Master-List_16352570.mdx#fifo_serviced_by)变量设置为此值。

### fifo_consumer_wrapup_key

数字按键 如果设置了此变量且消费者处于`wait`模式下，[mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add)将在消费者按下`fifo_consumer_wrapup_key`或达到[fifo\_consumer\_wrapup\_time](Variables-Master-List_16352570.mdx#fifo_consumer_wrapup_time)毫秒的超时时间时，使消费者重新进入队列。

### fifo_consumer_wrapup_sound

字符串 在服务完成后，播放给接听者听的音频。

### fifo_consumer_wrapup_time

字符串 以毫秒为单位的超时时间，当达到时，消费者将重新进入队列。

### fifo_hold_music

string 当用户按下 `0` 将来电放置等候时播放的音乐。如果 `fifo_music` 未设置，它将回退到 [fifo\_music](Variables-Master-List_16352570.mdx#fifo_music)，然后播放默认等候音乐。

### fifo_manual_bridge

boolean 只读字段，[mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add) 在手动跟踪呼叫时将此变量设置为 `true`。

### fifo_member_wait

string 如果将此变量设置为 `wait` ，当主叫方挂断电话时，用户的通话将不会自动挂断。这是默认行为。

如果设置为 `nowait` ，当主叫方挂断电话时，用户的通话将会自动挂断。

**用法**

```xml
<action application="set" data="result=${fifo_member(add MyQueueName {fifo_member_wait=nowait}user/1001@VoiceNetwork.ca )"/>
```

### fifo_music

string

### fifo_orbit_announce

string 在将来电转接至 [fifo\_orbit\_exten](Variables-Master-List_16352570.mdx#fifo_orbit_exten) 之前将播放此文件给主叫方。

### fifo_orbit_context

string 设置 [fifo\_orbit\_exten](Variables-Master-List_16352570.mdx#fifo_orbit_exten) 的上下文。在将主叫方放入队列之前必须先设置。

**用法**

```xml
<action application="set" data="fifo_orbit_context=MyContext"/>
```

### fifo_orbit_exten

string

语法：`exten:timeout`

设置目标分机和超时时间，FreeSWITCH 会将呼叫者放入 FIFO 直到超时，然后将其转接到目标分机。可以在将呼叫者放入 FIFO 之前设置。

**用法**

在执行 `fifo` 应用程序之前：

```xml
<action application="set" data="fifo_orbit_exten=MyFIFOVoicemail:60"/>
```

现在，在 FIFO 中等待 60 秒后，呼叫者将被转接到 `MyFIFOVoicemail`。

```xml
<action application="fifo" data="MyFIFO in"/>
```

### fifo_outbound_announce

string 将这个播放给队列里的成员。

### fifo_outbound_uuid

string [mod_fifo](../Modules/mod_fifo_3966031.mdx#-add)用来跟踪手动呼叫的UUID。

### fifo_override_announce

string 将这个播放给消费者的提示音。

### fifo_pop_order

string 逗号分隔的优先级列表，按照从最重要到最不重要的顺序回答。

**使用方法**

```xml
<action application="set" data="fifo_pop_order=1,2" />
```

### fifo_position

integer 只读属性，[mod_fifo](../Modules/mod_fifo_3966031.mdx#-add)将呼叫者的位置写入到这个变量。

### fifo_priority

string

### fifo_record_template

string 如果设置了，会将会话录制到这个文件中，并在呼叫通道上展开。

### fifo_role

string 为了报告目的，在CDR中，这个变量将包含“consumer”或“caller”，取决于呼叫腿。

### fifo_serviced_by

string

### fifo_serviced_uuid

string

### fifo_status

string 消费者或呼叫者的状态。通常为“WAITING”或“TALKING”。

### fifo_strategy

string

### fifo_target

string

### fifo_timestamp

string 包含呼叫被转接到消费者时的时间戳。

## fire_asr_events

boolean 如果设置了，会在检测到语音时触发事件。

  
## 参见

* [mod_dptools: detect_speech](../Modules/mod_dptools_1970333.mdx#-c)
* [mod_dptools: play_and_detect_speech](../Modules/mod_dptools_1970333.mdx#-c)

### flow_billmsec

integer

### flow_billsec

integer

### flow_billusec

integer

### force_transfer_context

string 处理转接/REFER时，FreeSWITCH通常会继承原始通道的上下文。这个变量可以强制指定处理转接/REFER的上下文。

**使用方法**

```xml
<action application="bridge" data="{force_transfer_context=一些上下文}sofia/gateway/gw_name/12345"/>
```

### force_transfer_dialplan

string 处理转接/REFER时，FreeSWITCH通常会继承原始通道的拨号计划。该变量强制指定处理转接/REFER所使用的拨号计划。

### funny_stun

string

### grammar_dir

string

### group_confirm_cancel_timeout

integer 如果设置了该值，在呼叫接通后会取消 [leg_timeout](Variables-Master-List_16352570.mdx#leg_timeout)。[originate_timeout](Variables-Master-List_16352570.mdx#originate_timeout) 仍然保持激活状态。

使用组确认时，呼叫经过三个阶段：

1. 呼叫响铃。
2. 呼叫已接听，等待确认。
3. 呼叫已确认并桥接。

但是，如果执行以下操作：

`<action application="set" data="group_confirm_cancel_timeout=1"/>`

那么超时时间只适用于第一个阶段。一旦过了第一个阶段，`leg_timeout` 计时器停止计时。

### group_confirm_file

string 此变量与 `group_confirm_key` 一起使用。在 `group_confirm_file` 中，您可以指定呼叫方接通时播放的wav文件。请参见 [answer confirmation](Freeswitch-IVR-Originate_9634753.mdx#answer-confirmation) 获取更多示例。

**用法**

```xml
<action application="set" data="group_confirm_file=/usr/local/freeswitch/sounds/take_call_question.wav" />
```

### 另请参阅

[group_confirm_key](../../Channel-Variables-Catalog/group_confirm_key_16353437.mdx#see-also) — 指定用于将 leg-A 桥接到 leg-B 的 DTMF

[answer confirmation](Freeswitch-IVR-Originate_9634753.mdx#answer-confirmation) 

### group_confirm_key

dtmf digit 在`group_confirm_key` 变量中，您定义了呼叫方应该发送到FS以连接呼叫的DTMF。如果发送错误的DTMF或没有发送DTMF，呼叫将不会连接，同时wav文件将会被重复播放。

**使用**

```xml
<action application="set" data="group_confirm_key=1" />
```

### 参见

[group\_confirm\_file](../../Channel-Variables-Catalog/group_confirm_file_16353431.mdx#see-also) — 指定一个声音文件，播放给B路的提示输入确认键

[answer confirmation](Freeswitch-IVR-Originate_9634753.mdx#answer-confirmation)

### group_context

字符串

布尔值，控制在呼叫(A)进行[桥接状态](../Introduction/Life-Cycle-of-a-Call_1048888.mdx#0-about)时，被叫(B)方挂断时发生的情况。如果为`true`，则当B路结束时，将停止处理[dialplan](index.mdx#0-about)，同时A路将被终止。如果为`false`（默认值），则在B路结束后继续处理dialplan。此检查在[park\_after\_bridge](Variables-Master-List_16352570.mdx#park_after_bridge)和[transfer\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge)之后进行。

默认值为`false`

使用

```xml
<action application="set" data="hangup_after_bridge=true"/>
```

### hangup_after_conference

布尔值，控制在进行会议并且会议结束时（例如设置了endconf标志且主持人离开）发生的情况。如果为`true`（默认值），则会议结束后，dialplan将停止处理且A路将被终止。如果为`false`，则在会议结束后继续处理dialplan。

**使用**

```xml
<action application="set" data="hangup_after_conference=false"/>
```

```xml
<!-- 所有拨打 "3500" 的普通成员在下面的 "endconf" 成员离开会议后都会继续到回声操作 -->
<!-- 注意 "hangup_after_true" 是依赖于 "endconf" 的，一名或多名成员必须具有 endconf 标志 -->
<!-- 如果有两个或更多的管理员加入，呼叫后，参与者将在最后一个具有 "endconf" 标志的成员离开后被踢出 -->
<!-- 当有人呼叫到 "3500-admin" 并离开时，通过 "3500" 进来的参与者将继续到他们自己的回声应用 -->

<extension name="cdquality_conferences">
  <condition field="destination_number" expression="^(35\d{2})$">
    <action application="answer"/>
    <action application="set" data="hangup_after_conference=false"/>
    <action application="conference" data="$1-${domain_name}@video-mcu-stereo"/>
    <action application="set" data="echo_encode_video=true"/>
    <action application="echo"/>
  </condition>
</extension>

<extension name="conference manager">
  <condition field="destination_number" expression="^(35\d{2})-admin$">
    <action application="set" data="conference_member_flags=endconf"/>
    <action application="conference" data="$1-${domain_name}@video-mcu-stereo"/>
  </condition>
</extension>
```

### hangup_cause

string 表示呼叫的 A 端的挂断原因（注意，在呼叫结束之前没有太多意义）。通常情况下，它会从呼叫的 B 端获取挂断原因。有关挂断原因的列表，请参阅[挂断原因](../Troubleshooting-Debugging/Hangup-Cause-Code-Table_3964945.mdx#about)。

**用法**

```xml
<action application="log" data="1 A-leg hangup cause: ${hangup_cause}"/>
```

### hangup_cause_q850

字符串此处设置为呼叫的A路的挂断原因的Q850数值代码（请注意，在呼叫结束之前没有多大意义）。通常，如果有B路的挂断原因，它将获取B路的挂断原因。有关挂断原因的列表，请参见[挂断原因](../Troubleshooting-Debugging/Hangup-Cause-Code-Table_3964945.mdx#about)。

**用法**

```xml
<action application="log" data="1 A-leg hangup Q850 cause: ${hangup_cause_q850}"/>
```

### has_t38

布尔型

### hold_hangup_xfer_exten

字符串 控制在桥接状态下B路呼叫方（A）的举动，当B路保持通话时桥接结束。如果在B路上没有设置（即默认情况），则A路会被挂断。如果在B路上设置了该值，则A路会根据[transfer\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge)进行呼叫转移。

**用法**

```xml
<action application="set" data="hold_hangup_xfer_exten=1000:XML:default"/>
```

### hold_music

字符串 每个通道的保持音乐。支持所有音频格式和音频流。`hold_music`变量也可以在`vars.xml`中进行全局设置。

**用法**

```xml
<action application="set" data="hold_music=/sounds/holdmusic.wav" />
```

```xml
<action application="set" data="hold_music=silence" />
```

您还可以使用`phrase:`指示使用短语而不是特定文件：

```xml
<action application="set" data="hold_music=phrase:my_hold_music" />
```

您还可以将您的`hold_music`设置为特殊值`indicate_hold`，而不是音乐源，它将通过SDP将保持信令传输到远端：

```xml
<action application="set" data="hold_music=indicate_hold" />
```

对于多租户环境，如果您希望为具有保持按钮的电话（如Polycom）设置单独的保持音乐（MOH），并且使用不带媒体IP地址（0.0.0.0）进行保持的RE-INVITE，您可以在sip配置文件参数中覆盖保持音乐值，类似以下示例：

```xml
<action application="bridge_export" data="hold_music=$${sounds_dir}/music/company-a.mp3"/>
```

### holding_uuid

string

### hostname

string 此全局变量由FreeSWITCH核心动态设置，并设置为运行FreeSWITCH的服务器的主机名。您无法通过设置该变量来覆盖其值。但是，如果更改了服务器的主机名，变量的值将更新。

### htdocs_dir

string

### id

string

### ignore_display_updates

string 告诉freeswitch不要向呼叫的leg发送显示更新（update_display）。

**用法**

从 `dialplan/default.xml` 设置在A-Leg上：

```xml
<action application="set"  data="ignore_display_updates=true"/>
```

设置在B-Leg上：

```xml
<action application="bridge" data="{ignore_display_updates=true}sofia/gateway/provider/18005551212"/>
```

### ignore_early_media

string 控制呼叫是否会返回早期媒体。默认值为 `false`。

**用法**

```xml
<action application="set" data="ignore_early_media=true"/>
```

您还可以使用 `{ }` 语法在bridge应用程序的参数中为`ignore_early_media`指定一个值（不能使用 `[ ]` 语法在每个leg上指定`ignore_early_media`，因为它是针对发起会话的全局变量）：

```xml
<action application="bridge" data="{ignore_early_media=true}sofia/test-int/1001@somebox,sofia/test-int/1000@somehost"/>
```

将值设置为 `ring_ready` 将与 `ignore_early_media=true` 的效果相同，但在捕获到第一个 SIP 183 响应时，还会向呼入路线发送一个 SIP 180 响应。

```xml
<action application="set" data="ignore_early_media=ring_ready"/>
```

### import

string 导入变量时，在桥接之前，将实际通道上的其他通道的变量导入到当前通道上。由 [mod\_lcr](../Modules/mod_lcr_6587457.mdx#lrn) 实现。

**使用方法**

```xml
<action application="set" data="import=this_is_a_variable_name"/>
```

### inbound_dialplan

string

### inherit_codec

boolean 如果启用了延迟协商，并且在 A leg 上设置了 inherit_codec=true，则会将 B leg 的协商编解码器强制应用到 A leg 上。

**使用方法**

```xml
<action application="set" data="inherit_codec=true"/>
```

### initial_callee_id_name

string 在 183 响应期间设置被叫方 id 名称。这使得电话在被接听之前能够看到被叫方的名称。

**使用方法**

将其设置为所拨打号码的主叫方 id 名称的示例：

```xml
<action application="set" data="initial_callee_id_name='${user_data(${dialed_extension}@${domain_name} var effective_caller_id_name)}'"/>
```

### instant_ringback

boolean 当设置为 true 时，回铃音不再等待指示，而是直接发送回铃音给呼叫方。

**使用方法**

![(warning)](/images/icons/emoticons/warning.svg) 这可能会导致不希望的效果，例如响铃 3 秒后变成忙音。

```xml
<action application="set" data="instant_ringback=true"/>
```

### intercept_unanswered_only

boolean 如果设置为 `true`，只有在通道未接听的情况下，才会拦截该通道。

**默认值：** `false`

**使用方法**

```xml
<action application="set" data="intercept_unanswered_only=true"/>
<action application="intercept" data="myUUID"/>
```

### 只拦截未接通的呼叫

布尔值。如果设置为true，则仅在通道未与任何人建立桥接时，该呼叫将被 [mod\_dptools: intercept](../Modules/mod_dptools_1970333.mdx#-c)。

**默认值：** `false`

**用法**

```xml
<action application="set" data="intercept_unanswer_only=true"/>
<action application="intercept" data="myUUID"/>
```

### ip_invite_params

字符串

### 是否为出站呼叫

布尔值

### ivr_menu_status

字符串 `ivr_menu_status` 为频道变量，用于返回IVR菜单的状态：
* `success` 成功
* `failure` 失败
* `timeout` 超时

### ivr_menu_terminator

DTMF码 可设置为none或希望终止输入的DTMF字符。

**用法**

```xml
<action application="set" data="ivr_menu_terminator=#"/>
```

### jitterbuffer_msec

字符串

通道变量。激活抖动缓冲区。抖动缓冲有三个参数：长度，最大长度和最大漂移。

**用法**

jitterbuffer\_msec=缓冲区长度:最大缓冲区长度:最大漂移

这三个参数指定了抖动缓冲区的大小，如果只使用数字，则单位为毫秒，如果数字后附加了后缀'p'，则单位为数据包的数量。

缓冲区长度 - 抖动缓冲区的初始长度

最大长度 - 抖动缓冲区允许增长到的最大大小

最大漂移 - 抖动缓冲区在丢弃帧以弥补差距之前所容忍的最大延迟

**示例**

**数值时间示例**

```xml
<action application="set" data="jitterbuffer_msec=60:200:20"/>
<action application="answer"/>
```

**数据包计数示例**

```xml
<action application="set" data="jitterbuffer_msec=2p:25p:4p"/>
<action application="answer"/>
```

或者仅在后续的呼出（Leg B）通话中设置：[导出](../Modules/mod_dptools_1970333.mdx#-c)呼叫计划应用程序在当前通道和它创建的任何通道上都设置一个变量，而'nolocal:'指令禁用在当前（Leg A）通道上设置它，只在后续的呼出通道上设置它。

**仅在Leg B上使用nolocal:**

```xml
<action application="export" data="nolocal:jitterbuffer_msec=60"/>
<action application="bridge" data="sofia/default/888@conference.freeswitch.org"/>
```

您还可以通过以下方式在连接中激活抖动缓冲：

**连接应用程序中的jb选项**

```xml
<action application="bridge" data="{jitterbuffer_msec=60}sofia/gateway/$1@gateway.com"/>
```

这将在从远程网关流向本地FreeSWITCH用户的数据包中添加一个抖动缓冲。网络将如下所示：

（本地SIP用户）-----> FreeSWITCH ----->（远程网关）

其中FreeSWITCH和远程网关之间的连接存在抖动，并且假设本地SIP用户的IP电话没有抖动缓冲。这将有助于提高传入音频的语音质量。

### 语言

字符串

### 最后应用程序

字符串

### 最后参数

字符串

### 最后桥接挂断原因

字符串 此字段设置为呼叫最后关接的B通话的挂断原因。有关挂断原因的列表，请参见[挂断原因](../Troubleshooting-Debugging/Hangup-Cause-Code-Table_3964945.mdx#about)。

**用法**

```xml
<action application="log" data="B通话挂断原因：${last_bridge_hangup_cause}"/>
```

### 最后桥接协议特定挂断原因

字符串 这显示了SIP响应代码导致的最后一个桥接挂断原因，例如"sip:404"

### 最后桥接到

字符串

### 最后DTMF持续时间

字符串

### 最后文件位置

字符串 已过时 此可能已过时。

### last_matching_digits

`last_matching_digits`是一个字符串，包含用户在使用"dmachine"数字处理时拨号的最后一组数字。这通常与[bind\_digit\_action](Variables-Master-List_16352570.mdx#last_bridge_to)拨号计划应用程序一起使用。

  
TODO 什么是`dmachine`？[在源代码中搜索](https://github.com/signalwire/freeswitch/search?q=dmachine&unscoped%5Fq=dmachine)。

TODO 这只适用于[mod\_dptools: bind\_digit\_action](../Modules/mod_dptools_1970333.mdx#-c)吗？

  
#### 使用方法

```xml
<action application="log" data="INFO 用户刚刚拨打的号码是 ${last_matching_digits}"/>
```

### last_transferred_conference

`last_transferred_conference`是一个只读的字符串，包含该通道最后连接到的会议名称。

**使用方法**

```xml
<action application="log" data="INFO 此人最近参加的会议是 [${last_transferred_conference}]"/>
```

### lcr_auto_route

字符串

### lcr_route_count

整数

### left_hanging_extension

字符串

### leg_delay_start

字符串，指定每个leg在分叉拨号场景中调用之前的等待时间（以秒为单位）。可以在每个leg的`[]`中使用，但无法在dialstring的全局`{}`中使用。

**使用方法**

```xml
<action application="bridge" data="sofia/profile/dest1,[leg_delay_start=10]sofia/profile/dest2,[leg_delay_start=15]sofia/profile/dest3"/>
```

### leg_progress_timeout

字符串

**使用方法**

使所有桥接呼叫在6秒内切换到下一个：

```xml
<action application="export" data="leg_progress_timeout=6"/>
```

### leg_timeout

整数，在起始拨号字符串中为每个leg设置超时。可以在每个leg的`[]`中使用，但无法在dialstring的全局`{}`中使用。对于全局设置，请使用[originate\_timeout](Variables-Master-List_16352570.mdx#originate_timeout)。

您还可以使用 [leg\_progress\_timeout](Variables-Master-List_16352570.mdx#leg_progress_timeout) 来指定在我们获取媒体（无论是早期媒体、振铃还是接听）之前最长等待的时间，这样您就可以避免特定线路进入语音信箱。

如果您正在使用组确认，则可以通过使用 [group\_confirm\_cancel\_timeout](Variables-Master-List_16352570.mdx#group_confirm_cancel_timeout) 通道变量来取消超时。如果还使用了 [leg\_delay\_start](Variables-Master-List_16352570.mdx#leg_delay_start)，则 `leg_timeout` 只有在分机开始被桥接之后才会开始计时。

**用法**

```xml
<action application="bridge" data="[leg_timeout=15]user/hastoanswerquickly/some.domain.com,[leg_timeout=60]user/hasaminutetoanswer@some.domain.com"/>
```

### limit_id

字符串

### limit_ignore_transfer

字符串

### limit_max

字符串

### limit_rate

字符串

### limit_realm

字符串

### limit_usage

字符串

### local_ip_v4

字符串

这个全局变量是由 FreeSWITCH 核心动态设置的，它通过向底层操作系统询问 FreeSWITCH 运行的服务器的 IP 地址来获取。如果服务器有多个 IP 地址，这个变量将被设置为操作系统返回的第一个 IP 地址。在[默认配置](../Configuration/Default-Configuration_6587388.mdx#mod_vp8)中，有许多设置使用了这个全局变量。

您无法覆盖此全局变量的值，因为FreeSWITCH核心将每分钟重置一次。如果您的服务器具有多个IP地址，并且要强制FreeSWITCH使用特定的IP地址，您可以创建一个名为`force_local_ip_v4`的全局变量，并将其设置为您偏好的IP地址。您还必须将local_ip_v4变量设置为此IP地址，您只需将local_ip_v4设置为使用`force_local_ip_v4`的值即可。

**示例：force_local_ip_v4**

```xml
<X-PRE-PROCESS cmd="set" data="force_local_ip_v4=1.1.1.1"/>
<X-PRE-PROCESS cmd="set" data="local_ip_v4=$${force_local_ip_v4 }"/>
```

FreeSWITCH不会验证您为`force_local_ip_v4`输入的IP地址是否实际指向服务器，这取决于您确保使用有效的IP地址以正确路由到服务器。

### local_ip_v6

字符串

此全局变量由FreeSWITCH核心通过向底层操作系统请求运行FreeSWITCH的服务器的IPv6地址（如果支持IPv6）动态设置。如果服务器具有多个IPv6地址，则此值将设置为操作系统返回的第一个IPv6地址。在[默认配置]中（../Configuration/Default-Configuration_6587388.mdx#mod_vp8），此变量用于设置IPv6 SIP和Verto配置文件。

您无法覆盖此全局变量的值，因为FreeSWITCH核心将每分钟重置一次。如果您的服务器具有多个IPv6地址，并且要强制FreeSWITCH使用特定的IPv6地址，您可以创建一个名为force_local_ip_v6的全局变量，并将其设置为您偏好的IP地址。您还必须将local_ip_v6变量设置为此IP地址，您只需将local_ip_v6设置为使用force_local_ip_v6的值即可。

**示例: force_local_ip_v6**

```xml
<X-PRE-PROCESS cmd="set" data="force_local_ip_v4=1.1.1.1"/>
<X-PRE-PROCESS cmd="set" data="local_ip_v4=$${force_local_ip_v4 }"/>
```

FreeSWITCH不会验证您为`force_local_ip_v6`输入的IPv6地址实际上是否指向服务器，所以您需要确保使用一个有效的IP地址，该地址正确路由到服务器。

### local_mask_v4

字符串

此全局变量由FreeSWITCH核心动态设置，通过使用底层操作系统接收的网络掩码确定[local\_ip\_v4](../../Channel-Variables-Catalog/local_ip_v4_16353556.mdx#local_ip_v4)。

### local_media_ip

字符串

### local_media_port

字符串

### local_video_ip

字符串

### local_video_port

字符串

### log_dir

字符串

### loopback_bowout_on_execute

布尔值 设置为`true`以使单腿[环回通道](../Bit-Bucket/For-Consideration/mod_bridgecall_13173999.mdx#loopback) “退出”（删除环回腿）呼叫。

`loopback_bowout_on_execute`仅对单腿呼叫有用。您无需设置它:`loopback_bowout`默认为`true`。它通过执行[uuid\_bridge](../Modules/mod_commands_1966741.mdx#uuid_bridge)尝试去除环回。

当设置`loopback_bowout=false`时，桥接的环回呼叫会产生4个腿（a腿，环回-a，环回-b，b腿）。

当设置`loopback_bowout=true`时，桥接的环回呼叫会产生2个腿（a腿，b腿）。

但是，在呼叫设置阶段，即使`loopback_bowout=true`，始终会有4个腿。当成功桥接a腿和b腿时，loopback-a和loopback-b将被销毁。

**用法**

```xml
<action application="set" data="loopback_bowout_on_execute=true"/>
```

### loopback_export

字符串A通道变量列表，用于从loopback-a传递到loopback-b。

### loopback_leg

字符串

### max_forwards

整数 包含在原始请求中提供的当前`Max-Forwards`值。在SIP呼叫中，`Max-Forwards`值每经过一跳就会减少一次，当`Max-Forwards`值耗尽时，接收代理不能再传递该呼叫。

`max_forwards`变量可在出站通道上设置，一些提供商例如BT IP Exchange坚持要求设置最小值以准确地终止呼叫，在BT的情况下为50。

![(警告)](/images/icons/emoticons/warning.svg)如果`max_forwards`值被重置，可能会导致两个运营商之间的潜在循环呼叫，它们会错误地将呼叫彼此回送。要明智使用。

**使用方法**

将传入呼叫桥接到一个要求最小`Max-Forwards`值的提供商：

```xml
<action application="bridge" data="{max_forwards=65}sofia/gateway/ipexchange/442920180123"/>
```

### mduration

字符串

### media_bug_answer_req

布尔值 只有在通道已接听时才开始录音。

**使用方法**

```xml
<action application="set" data="media_bug_answer_req=true"/>
```

### media_mix_inbound_outbound_codecs

布尔值 设置向B-leg提供的编解码器列表。

FreeSWITCH过去会从传入的A-leg中获取编解码器，并与配置的出站编解码器列表混合在一起提供给B-leg。在大量编解码器的情况下，这可能超出UDP消息的最大传输单元（MTU），导致呼叫建立失败。

截至[FS-8321](https://freeswitch.org/jira/browse/FS-8321?src=confmacro) - [认证](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266)以查看问题详情，旧行为现在需要变量`media_mix_inbound_outbound_codecs=true`，因为新的默认行为是在出站B-leg上提供与入站A-leg上提供的完全相同的编解码器。

**使用方法**

```xml
<action application="set" data="media_mix_inbound_outbound_codecs=true"/>
```

### `media_webrtc`

布尔值。用于指示FS生成用于WebRTC呼叫的INVITE。例如，如果您需要发起一个WebRTC呼叫，但您不是在调用已向FS注册的SIP UA（如果UA已向FS注册，FS知道它应该发起一个WebRTC呼叫）。

**使用方法**

{media\_webrtc=true}

### `memory_debug`

布尔值。

### `min_dup_digit_spacing_ms`

整数。小于此时间开始的重复DTMF信号将被忽略。也就是说，对于两个数字被检测到，第一个数字的结束和重复数字的开始之间需要最小的间隔。默认值为`0`。在执行[spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications)之前设置此变量。

**使用方法**

```xml
<action application="set" data="min_dup_digit_spacing_ms=40"/>
<action application="spandsp_start_dtmf" />
```

### `mod_dir`

字符串。

### `monitor_early_media_fail`

字符串。用于监控早期媒体的故障条件，例如忙音。这样可以在忽略早期媒体时更快地处理呼叫失败。

语法是以以下格式的`!`分隔的一系列早期媒体条件：

`condition_name:number_of_hits:tone_detect_frequencies`

| condition\_name           | 用户自定义的错误条件名称                                                                                                                           |
| ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| number\_of\_hits          | 在认定为失败之前，必须听到音调的次数                                                                                                                     |
| tone\_detect\_frequencies | 要侦听的频率（用+而不是逗号分隔）。请参阅 [tone\_detect](../Modules/mod_dptools_1970333.mdx#-c) |

![(warning)](/images/icons/emoticons/warning.svg) 仅当将 `ignore_early_media` 设置为 true 时，此变量才有效。

**用法**

```xml
<action application="bridge" data="{ignore_early_media=true,monitor_early_media_fail=user_busy:2:480+620!destination_out_of_order:2:1776.7}sofia/dial/string"/>
```

### monitor_early_media_ring

字符串 监听用户特定的振铃音。每次听到音调时，系统会为该路段增加一个内部计数器。一旦计数器达到 `monitor_early_media_ring_total`（或者未设置此变量），则会发送早期媒体。

语法是一系列使用 `!` 分隔的早期媒体条件，格式如下：

`condition_name:number_of_hits:tone_detect_frequencies`

| condition\_name           | 用户自定义的错误条件名称                                                                                                                                  |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| number\_of\_hits          | 在被认为是失败之前，必须听到的音调次数                                                                                                                    |
| tone\_detect\_frequencies | 要检测的频率（以+而不是,分隔）。参见 [tone\_detect](../Modules/mod_dptools_1970333.mdx#-c)                                                               |

![(warning)](/images/icons/emoticons/warning.svg) 只有在`ignore_early_media`设置为 true 时，此变量才起作用。

**用法**

```xml
<action application="bridge" data="{monitor_early_media_ring_total=3,monitor_early_media_ring=usring:1:440.0+480.0!ukring:2:400+450}sofia/gateway/yourgateway/1239@conference.freeswitch.org"/>
```

### monitor_early_media_ring_total

string 指定在失败之前可以听到的用户自定义铃声的数量。与 [monitor\_early\_media\_ring](Variables-Master-List_16352570.mdx#monitor_early_media_ring) 结合使用。

**用法**

```xml
<action application="bridge" data="{ignore_early_media=true,monitor_early_media_ring_total=3,monitor_early_media_ring=us_ring:1:440.0+480.0}sofia/dial/string"/>
```

### monitor_fail_dispo

字符串 这个变量可以用来提供一个自定义的[originate_disposition](Variables-Master-List_16352570.mdx#originate_disposition)，作为一个早期媒体失败的结果，使用 [monitor_early_media_fail](Variables-Master-List_16352570.mdx#monitor_early_media_fail) 或 [monitor_early_media_ring](Variables-Master-List_16352570.mdx#monitor_early_media_ring)。如果没有设置这个变量，会在`originate_disposition`中放置一个默认值`monitor_early_media_fail`或`monitor_early_media_ring`。

**用法**

```xml
<action application="bridge" data="{ignore_early_media=true,monitor_fail_dispo=strange_bleep_attack,monitor_early_media_fail=user_busy:2:1234}sofia/dial/string"/>
```

### monitor_ring_dispo

字符串

### myid

字符串

### nat_private_addr

字符串

如果您使用 [auto-nat](../Networking/Auto-Nat_6587487.mdx#about) 并且检测到了公共IP地址，这个变量将被设置为与检测到的公共IP地址映射的私有IP地址。

### nat_public_addr

字符串

如果您使用 [auto-nat](../Networking/Auto-Nat_6587487.mdx#about) 并且FreeSWITCH能够识别指向您服务器的公共IP地址，这个变量将被设置为自动检测到的公共IP地址。

### nat_type

字符串

如果您使用auto-nat，FreeSWITCH将设置这个全局变量为它检测到的[auto-nat](../Networking/Auto-Nat_6587487.mdx#about)设备类型，可以是pmp或upnp。

### NDLB_support_asterisk_missing_srtp_auth

布尔值

### new_name

字符串

### no_throttle_limits

布尔值 您在呼出通话时将此变量设置为`true`，以使其不计入SPS。

**用法**

```xml
{no_throttle_limits=true}
```

### nonexistantvar

字符串

### original_caller_id_name

字符串

### original_caller_id_number

字符串

### original_destination_number

字符串

### originate_continue_on_timeout

布尔值 控制桥接超时后是否应继续执行。此变量在每个`|`后重置超时。默认为`false`：在第一次超时时失败。

**使用方法**

```xml
<action application="set" data="originate_continue_on_timeout=true"/>
```

### originate_delay_start

整数 指定呼叫发起前的等待时间（以毫秒为单位）。此变量可在无法使用变量[leg\_delay\_start](Variables-Master-List_16352570.mdx#leg_delay_start)的Enterprise呼叫发起中使用。

**使用方法**

```xml
<action application="bridge" data="sofia/profile/dest1:_:{originate_delay_start=10000}sofia/profile/dest2:_:{originate_delay_start=15000}sofia/profile/dest3"/>
```

带有拆分和时间线的更复杂示例（以秒为单位）：

```xml
<action application="bridge","users/1000:_:{originate_delay_start=8000}user/2302:_:{originate_delay_start=14000}sofia/gateway/flowroute/1231231234"/>
```

假设所有用户只让它响铃：

[00] - 用户 1000 响铃
[10] - 用户 2302 响铃
[15] - 用户 1231231234 响铃

假设用户 1000 在 2 秒后拒绝，其他用户响铃：

[00] - 用户 1000 响铃
[08] - 用户 2302 响铃
[14] - 用户 1231231234 响铃

### originate_disposition

只读字符串 这是返回的呼叫发起结果或挂断原因。 (LEG B)

在每次呼叫尝试后更新此值，如果呼叫发起不成功。

### originate_retries

整数 在放弃呼叫发起之前的重试次数（默认为0）。

### originate_retry_sleep_ms

整数 这将设置 FreeSWITCH 在向接收网关发送邀请消息之间等待的时间。

**使用方法**

在向被呼叫网关发送邀请消息之间等待500毫秒：

```xml
<action application="set" data="originate_retry_sleep_ms=500"/>
```

### originate_timeout

整数类型，决定FreeSWITCH等待从发送给网关的邀请消息中获得响应的时间长度。它实际上是一种控制多个终端组成的桥接/发起的超时时间的方法。

**默认值：** 60

**用法**

如果您使用多个网关，这将非常有用。在下面的示例中，FreeSWITCH将在尝试下一个网关之前等待2秒钟以获取`192.168.1.4`对邀请消息的响应：

```xml
<action application="set" data="originate_timeout=2"/>
<action application="bridge" data="sofia/default/$1@192.168.1.4|sofia/default/$1@192.168.1.5"/>
```

```xml
<action application="bridge" data="{originate_timeout=10}[leg_timeout=5]sofia/default/foo1@bar1|[leg_timeout=5]sofia/default/foo2@bar2"/>
```

```xml
<action application="bridge" data="{originate_timeout=24}${group_call(sales@$${domain})}"/>
```

### originating_leg_uuid

字符串类型，显示出站通道上发起腿的UUID。

**用法**

在A-leg CDR中：

```xml
<uuid>cb5f5b90-75a0-11e0-873b-d1cba9e0f1b8</uuid>
<call_uuid>cb5f5b90-75a0-11e0-873b-d1cba9e0f1b8</call_uuid>
```

在B-leg CDR中：

![(info)](/images/icons/emoticons/information.svg) 请注意，腿的UUID是不同的。`call_uuid`将两个腿配对在一起，但是`originating_leg_uuid`也可以这样做。

```xml
<uuid>cb8633aa-75a0-11e0-873d-d1cba9e0f1b8</uuid>
<call_uuid>cb5f5b90-75a0-11e0-873b-d1cba9e0f1b8</call_uuid>
<originating_leg_uuid>cb5f5b90-75a0-11e0-873b-d1cba9e0f1b8</originating_leg_uuid>
```

### origination_callee_id_name

在呼入路由上设置，控制呼叫者电话显示的呼叫者ID名称。还请参见`ignore_diplay_updates`，它会影响这些变量的处理。

**用法**

![(info)](/images/icons/emoticons/information.svg)如果`set`无效，请尝试使用`export`替代。

```xml
<action application="bridge" data="{origination_callee_id_name=Reginald}sofia/gateway/provider/<Reginald's cellphone number>" />
```

### origination_callee_id_number

在呼入路由上设置，控制呼叫者电话显示的呼叫者ID号码。还请参见[ignore\_diplay\_updates](Variables-Master-List_16352570.mdx#ignore_display_updates)，它会影响这些变量的处理。

**用法**

```xml
<action application="bridge" data="{origination_callee_id_name=Reginald,origination_callee_id_number=2332}sofia/gateway/provider/<Reginald's cellphone number>" />
```

### origination_caller_id_name

设置呼叫发起方的呼叫者ID名称（LEG A）。

如果要在发起呼叫时设置主叫方ID，请在拨号字符串之前的`{}`括号中添加此设置。

**用法**

```xml
<action application="set" data="origination_caller_id_name=Uncle Sam"/>
```

### origination_caller_id_number

设置呼叫发起方的呼叫者ID号码（LEG A）。

如果要在发起呼叫时设置主叫方ID，请在拨号字符串之前的`{}`括号中添加此设置。

**用法**

![(warning)](/images/icons/emoticons/warning.svg)如果要通过FXO网关中继传输来电PSTN的呼叫者ID号码，请注释掉此变量。

```xml
<action application="set" data="origination_caller_id_number=9185551212"/>
```

### origination_cancel_key

dtmf digit 用于attended transfer功能。允许您设置一个DTMF按键，以取消att_xfer并重新连接到保持的呼叫。它还可以取消尚未桥接（因此无法使用[bridge_terminate_key](Variables-Master-List_16352570.mdx#bridge_terminate_key)终止）的桥接。在修订版14650中实施。

**用法**

```xml
<action application="set" data="origination_cancel_key=#"/>
```

### origination_channel_name

string 在进行 originate 时在`{}`中设置此项，以创建自定义信道名称。

**用法**

```xml
originate {origination_channel_name='this_is_my_channel_name'}loopback/9664 9195
```

### origination_nested_vars

string

### origination_privacy

string 为呼叫方设置隐私配置文件。

选项：

* `screen`
* `hide_name`
* `hide_number`

**用法**

```xml
<action application="set" data="origination_privacy=hide_name"/>
```

### origination_timeout

string 弃用，使用[originate_timeout](Variables-Master-List_16352570.mdx#originate_timeout)。

### origination_uuid

string 您可以使用`origination_uuid`指定已发起呼叫的uuid，这样您就可以在呼叫被接听之前挂断呼叫，因为您知道uuid。只需记住，您需要使用`create_uuid`命令生成uuid，因为2个具有相同uuid的呼叫==错误！

![(info)](/images/icons/emoticons/information.svg) Bridge也使用origination语法，因此您还可以通过使用`{}`/`[]`语法并在其中指定`origination_uuid`来为桥接产生的新信道预分配UUID。

**用法**

```xml
originate [origination_uuid=....]sofia/<profile>/<extension>
```

### originator

string 保存发起通话的通道的UUID。它用于通知父通道其子通道的状态已更改，从而中断父通道上的任何阻塞读取。它由FreeSWITCH内部自动设置和读取。通常，用户不希望对其进行设置。

### originator_codec

string 设置从LEG A发起的呼叫的编解码器（设置LEG B的编解码器）

**用法**

```xml
<action application="set" data="originator_codec=PCMU"/>
```

### originator_video_codec

string

### other_loopback_leg_uuid

string

### outbound_redirect_fatal

boolean 当同时呼叫多个端点时，302重定向可能导致所有端点停止响铃，并且呼叫将遵循重定向。设置此通道变量会导致发送302重定向的端点从呼叫列表中删除，而其他端点继续响铃。

**用法**

```xml
<action application="bridge" data="{outbound_redirect_fatal=true}${group_call(sales@$${domain})}"/>
```

### pa_hold_file

string

### pa_ring_file

string

### park_after_bridge

boolean 如果设置为`true`，则在桥接返回后会将呼叫[停泊](../Modules/mod_dptools_1970333.mdx#-c)。在检查[transfer\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge)和[hangup\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge)之前检查此项。

**用法**

```xml
<action application="set" data="park_after_bridge=true"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### park_timeout

当设置时，停放的呼叫在超时后会被断开连接。超时时间以秒为单位。如果没有设置`park_timeout`值，则停放的呼叫将无限期保持，或者直到使用 [uuid_transfer](../Modules/mod_commands_1966741.mdx#uuid_transfer) 将其移除。

### **使用方法**

```xml
<action application="set" data="park_timeout=30"/>
<action application="park"/>
```

您还可以通过`park_timeout`指定在通道断开连接时需要的 [hangup_cause](Variables-Master-List_16352570.mdx#bridge_hangup_cause)。

```xml
<action application="set" data="park_timeout=30:MEDIA_TIMEOUT"/>
```

### 参见

* [mod\_dptools: park](../Modules/mod_dptools_1970333.mdx#-c)

### pass_rfc2833

boolean 如果设置了，则从桥接的一侧传递 [RFC 2833](https://tools.ietf.org/html/rfc2833) DTMF 数字到另一侧，不进行任何更改。如果未设置，则在传递之前对其进行解码和重新编码。

  
TODO [RFC 2833](https://tools.ietf.org/html/rfc2833) 被 [RFC 4733](https://tools.ietf.org/html/rfc4733) 废弃。

  
#### **使用方法**

```xml
<action application="set" data="pass_rfc2833=true"/>
```

### passthru_ptime_mismatch

boolean 如果 leg A 和 leg B 的 `ptime` 不匹配，并且使用了 [mod\_com\_g729](../Modules/mod_com_g729_1049284.mdx#about)，则呼叫通常会使用编解码器重新封装 RTP 流。

使用此参数，[mod\_com\_g729](../Modules/mod_com_g729_1049284.mdx#about) 将在不解码/重新编码的情况下重新封装，就像 [mod\_g729](../Modules/mod_g729_3375549.mdx#about) 所做的那样。

**使用方法**

在桥接之前，必须在`{}`中设置此参数。如果在桥接之前使用 `export` 设置，可能不起作用。

```xml
<action application="bridge" data="{passthru_ptime_mismatch=true}sofia/gateway/trunk/$1"/>
```

全球范围内位于`vars.xml`中

```xml
<X-PRE-PROCESS cmd="set" data="passthru_ptime_mismatch=true"/>
```

### playback_delimiter

字符串

当设置后，允许按顺序播放多个文件，这些文件由指定的分隔符分隔。

内部使用[mod_dptools: file_string](../Modules/mod_file_string_6587360.mdx#about)。

#### 使用

设置`playback_delimiter`如下：

```xml
<action application="set" data="playback_delimiter=&"/>
```

允许依次播放文件`foo.wav`和`bar.wav`：

```xml
<action application="playback" data="foo.wav&bar.wav"/>
```

### playback_last_offset_pos

字符串 包含刚刚播放的文件的文件偏移量。可以在以后的时间继续在该位置播放。

### playback_ms

整数 包含刚刚播放的音频文件的毫秒数。还有一个变量[playback_seconds](Variables-Master-List_16352570.mdx#playback_ms)以整秒为单位存储时长。

### playback_samples

整数 包含刚刚播放的音频文件的样本数。

### playback_sleep_val

整数 在播放完文件后暂停多长时间。默认值为250毫秒。

**用法**

要依次播放一组短文件，文件之间没有间隔：

```xml
<action application="set" data="playback_sleep_val=0"/>
```

### playback_terminator_used

字符串 包含调用者用于终止播放的按键。在调用新的播放时未定义。

### playback_terminators

DTMF按键

### 0\. 关于

允许您设置哪些[DTMF](../Introduction/Glossary_13173966.mdx#dtmf)音调会终止

* 回放（见 [mod\_dptools:playback](../Modules/mod_dptools_1970333.mdx#-c) 或 [mod\_dptools:play\_and\_detect\_speech](../Modules/mod_dptools_1970333.mdx#-c) 作为示例），或者
* 录音（见 [mod\_commands](../Modules/mod_commands_1966741.mdx#-) 中的 `uuid_record`（即FreeSWITCH API命令），[mod\_dptools:record](../Modules/mod_dptools_1970333.mdx#-c) 和 [mod\_dptools:record\_session](../Modules/mod_dptools_1970333.mdx#-c)）。

默认的终止符是 `*`（星号）。

### 1\. 语法

**语法**

```text
playback_terminators=123456789*0# | any | none
```

* `none` - 取消终止符数字的定义，表示没有 [DTMF](../Introduction/Glossary_13173966.mdx#dtmf) 声音会中断回放
* `any` - 任何 [DTMF](../Introduction/Glossary_13173966.mdx#dtmf) 声音都会中断回放

未指定为终止符的数字将被收集，但不会中断回放。

### 2\. 修饰符

* `+`（加号） - 包含了返回字符串中的其他 [DTMF](../Introduction/Glossary_13173966.mdx#dtmf) 数字与以下终止符数字
* `x`（字母 ex） - 包含了返回字符串中的终止符数字并且还返回 `SWITCH_STATUS_RESTART`

请参见下面的示例，了解这些修饰符的作用。

TODO 添加用例。

### 3\. 示例

使 `*`（星号）或 `#`（井号）中断后续的回放、[tone\_stream](../Modules/mod-dptools/mod-dptools-gentones/Tone_stream_6586599.mdx#about)、[say](../Modules/mod_dptools_1970333.mdx#-c)、录音等操作：

```xml
<action application="set" data="playback_terminators=#*"/>
```

如果在播放过程中拨入[DTMF](../Introduction/Glossary_13173966.mdx#dtmf) 9，它将中断播放并返回数字9以及其他被拨入的数字；如果拨入`*`，它将仅中断播放而不包括在返回的[DTMF](../Introduction/Glossary_13173966.mdx#dtmf)字符串中：

```xml
<action application="set" data="playback_terminators=*+9"/>
```

### playback_timeout_sec

整数 设置播放超时时间。如果您想播放可能很长的文件的短节选，这非常有用。

**用法**

```xml
<action application="set" data="playback_timeout_sec=10"/>
```

### pound_replace

字符串

### presence_data_cols

字符串 您可以通过使用全局变量`presence_data_cols`来自定义FreeSWITCH的内部通道表中的字段。

使用`:`来分隔`presence_data_cols`中的列名。

您必须首先在`channels`表中定义字段：

`ALTER TABLE channels ADD COLUMN accountcode VARCHAR(256)`

**用法**

在`conf/vars.xml`中：

```xml
<X-PRE-PROCESS cmd="set" data="presence_data_cols=accountcode:domain_name"/>
```

### presence_id

字符串 将指示[mod\_sofia](../Modules/mod_sofia_1048707.mdx#about)调用一个`PRESENCE_IN`事件，以断言订阅实体的BLF灯。这仅在通道仍然存在时有效，因此不应用于持久状态（即DND用户或登录到队列的代理）。

**用法**

```xml
<action application="set" data="presence_id=${dialed_extension}@${domain_name}"/>
```

### process_cdr

字符串 指示如何处理通话详单。

选项：

* `false` \- 不处理记录
* `true` \- 处理双向记录。这是默认设置。
* `a_only` \- 仅处理 A 腿记录
* `b_only` \- 仅处理 B 腿记录

此变量无条件地导出。

**使用方法**

```xml
<action application="set" data="process_cdr=a_only"/>
```

### profile_created_time

整数，包含呼叫配置文件创建的起始时间（以微秒计）。

**使用方法**

如果呼叫被转移，这是转移操作的有效 `created_time`。例如，如果你进行了以下呼叫流程：

```xml
2000 > 2001 (created_time=1357138714 / profile_created_time=1357138714)
transfer to 2002 (created_time=1357138714 / profile_created_time=1357138752)
transfer to 2003 (created_time=1357138714 / profile_created_time=1357138766)
transfer to 2004 (created_time=1357138714 / profile_created_time=1357138784)
```

无论是传输腿还是非传输腿，你仍然使用 [progress\_time](Variables-Master-List_16352570.mdx#progress_time) 来检索进程的起始时间。

### profile_start_epoch

整数

### profile_start_stamp

字符串

### profile_start_uepoch

整数

### progress_epoch

整数

### progress_media_epoch

整数

### progress_media_stamp

字符串

### progress_media_uepoch

整数

### progress_mediamsec

整数

### progress_mediasec

整数

### progress_mediausec

整数

### progress_stamp

字符串

### progress_time

字符串

### progress_timeout

整数 此为我们在获取媒体之前等待的最大时间（无论是早期媒体、振铃还是应答），例如最大PDD（Pre-Dialog Delay）在放弃路由之前的时间，从发送INVITE到收到第一个振铃响应，例如：SIP/2.0 180 Ringing或183。典型的固定电话PDD不超过3秒，移动电话不超过8秒。

> 我将我的progress\_timeout设置为13秒，以适应慢速建立连接的移动电话，不过它可能可以更短。  - Avi Marcus

两种情况：

1. 如果运营商在其平台上出现问题，_所有_呼叫可能会超时。
2. 如果不是运营商问题 - 如果单个运营商超时为13秒，并且用户实际上等待了，很少会通过其他运营商连接（尽管它们在13秒后都过期了）。

另请参阅：[早期媒体](../Codecs-and-Media/Early-Media/index.mdx#about)

**用法**

```xml
<action application="set" data="progress_timeout=20"/>
```

### progress_uepoch

整数

### progressmsec

整数

### progresssec

整数

### progressusec

整数

### proto_specific_hangup_cause

字符串 此变量将导致FreeSWITCH在挂断呼叫时将SIP响应代码强制设置为特定值。下面的示例是对所有可能的分机进行了测试，但未成功，您想让FreeSWITCH生成并响应特定的代码。（这不是一个转发的示例）。

顺便说一下，对于从网关收到180或183数据包，然后再收到4xx、5xx或6xx数据包的桥接，您将无法重新编写挂断原因（因为这些桥接不会‘失败’）。这在SIP提供商提供183会话进程，而不是404未找到时发生，其中拨打的PSTN号码不存在。

**用法**

```xml
<extension name="nothing_left" continue="true">
  <condition break="always">
    <action application="set" data="proto_specific_hangup_cause=sip:503"/>
    <action application="hangup"/>
  </condition>
</extension>
```

示例SIP响应映射

```xml
<extension name="from_gw_to_internal">
  <condition field="destination_number" expression="^(.*)$">
    <action application="set" data="hangup_after_bridge=true"/>
    <action application="set" data="continue_on_fail=19"/>
    <action application="bridge" data="{sip_cid_type=none}sofia/gateway/gw/$1"/>
    <action application="transfer" data="480to503"/>
  </condition>
</extension>

<extension name="480to503">
  <condition field="${proto_specific_hangup_cause}" expression="sip:480">
    <action application="set" data="sip_ignore_remote_cause=true"/>
    <action application="respond" data="503"/>
    <action application="hangup" data="NORMAL_CIRCUIT_CONGESTION"/>
  </condition>
</extension>
```

### proxy_media

boolean Proxy Media模式将Freeswitch设置为RTP流的"透明代理模式"。RTP流仍然通过freeswitch进行传递(与绕过媒体模式不同)，但对CPU的负荷较轻，因为freeswitch甚至不解析数据包或以任何方式对其进行处理，只是将其转发。

另请参阅: [Proxy Media](../../Channel-Variables-Catalog/proxy_media_16353349.mdx#proxy_media)

**用法**

![(info)](/images/icons/emoticons/information.svg) 必须在SIP配置文件中启用 [Late Negotiation](../Codecs-and-Media/Codec-Negotiation_2883752.mdx#about) ，才能在拨号计划中使用此功能。

```xml
<action application="set" data="proxy_media=true"/>
```

### rdnis

string

### read_codec

string readonly 入站呼叫方案的协商编解码器。

### read_rate

string

### read_result

### read_terminator_used

dtmf数字。包含呼叫者用于终止播放的数字。

### RECORD_APPEND

布尔值。将录音附加到文件中。在通道上设置`RECORD_APPEND=true`，所有录音都将以支持该方式的格式进行（目前支持[WAV](../Modules/mod_sndfile_32178375.mdx#-freeswitch--mod_sndfile-)等）。

**用法**

```xml
<action application="set" data="RECORD_APPEND=true"/>
```

### RECORD_ARTIST

字符串。在执行录制前设置，以在文件头元数据中存储（前提是文件格式支持元数据头）。

**用法**

```xml
<action application="set" data="RECORD_ARTIST=Unknown"/>
```

### RECORD_BRIDGE_REQ

布尔值。仅在通道建立桥接时记录会话。请参见[FS-5127](https://freeswitch.org/jira/browse/FS-5127?src=confmacro)-[Authenticate](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266)查看问题详情。

**用法**

```xml
<action application="set" data="RECORD_BRIDGE_REQ=true"/>
```

### RECORD_COMMENT

字符串。在执行录制前设置，以在文件头元数据中存储（前提是文件格式支持元数据头）。

**用法**

```xml
<action application="set" data="RECORD_COMMENT=This is a blog spot"/>
```

### RECORD_COPYRIGHT

字符串。在执行录制前设置，以在文件头元数据中存储（前提是文件格式支持元数据头）。

**用法**

```xml
<action application="set" data="RECORD_COPYRIGHT=(c)2007-me"/>
```

### RECORD_DATE

字符串。在执行录制前设置，以在文件头元数据中存储（前提是文件格式支持元数据头）。

**用法**

```xml
<action application="set" data="record_post_process_exec_app=app_name_here:app_arg1 app_arg2 app_arg3" />
```

### RECORD_READ_ONLY

string readonly If this flag is set, then the recording file is read-only and cannot be modified or deleted.

### record_silence_thresh

float

**Usage**

```xml
<action application="set" data="record_silence_thresh=-25dB"/>
```

### record_sleep_between

integer The amount of time, in milliseconds, to sleep between recording attempts. Default is 300 milliseconds.

**Usage**

```xml
<action application="set" data="record_sleep_between=500"/>
```

### RECORD_STEREO

boolean When set to `true`, recordings are saved in stereo format. If set to `false`, recordings are saved in mono format.

**Usage**

```xml
<action application="set" data="RECORD_STEREO=true"/>
```

### RECORD_UNIQUE_ID

string readonly Contains the unique identifier for the most recent recording.

### record_wave_header

boolean When set to `true`, wave headers are added to recordings. If set to `false`, wave headers are not added.

string 用于执行应用程序，以进行后期处理记录的音频。这是必需的原因是，如果在通话中 A 腿先挂断，那么拨号计划将停止处理，并且您将无法对记录的文件采取任何动作。

**用法**

```xml
<action application="set" data="record_post_process_exec_app=lua::vm_test.lua" />
```

### RECORD_READ_ONLY

boolean 仅记录只读流。

**用法**

###### 从 FreeSWITCH 向端点的角度来看

Aleg 正在录制，而只有从通道读取的传入音频才会进入文件

```xml
<action application="set" data="RECORD_READ_ONLY=true"/>
```

或者 Bleg 正在录制，而只有从通道读取的传入音频才会进入文件

```xml
<action application="bridge" data="{RECORD_READ_ONLY=true}user/1000"/>
```

#####   
  
  
参见:

[RECORD\_WRITE\_ONLY](../../Channel-Variables-Catalog/RECORD_WRITE_ONLY_16354620.mdx#see-also)  
  
  
### record_restart_limit_on_dtmf

boolean 当设置为 true 时，允许正在录制的人按下 DTMF 按键，并延长录制超时时间。

**用法**

```xml
<action application="set" data="record_restart_limit_on_dtmf=true"/>
```

### record_sample_rate

integer 设置记录的采样率。

**用法**

```xml
<action application="set" data="record_sample_rate=8000"/>
```

TODO <https://github.com/signalwire/freeswitch/blob/master/src/mod/applications/mod%5Fdptools/mod%5Fdptools.c>引用通道变量 `record_rate`，但这是整个代码库中唯一的引用; 这是一个错误吗？

### RECORD_SOFTWARE

string 在执行录制前设置，用于存储在文件头元数据中（前提是文件格式支持元头）。

**用法**

```xml
<action application="set" data="RECORD_SOFTWARE=FreeSWITCH"/>
```

### RECORD_STEREO

boolean 录制来电者到左声道，接收者到右声道，将两路流（即呼叫者和接收者）录制到立体声文件的不同声道。

**用法**

```xml
<action application="set" data="RECORD_STEREO=true"/>
```

### RECORD_STEREO_SWAP

boolean 允许在将[RECORD\_STEREO](Variables-Master-List_16352570.mdx#record_stereo)变量设置为`true`时，反转录制通道。这样，呼叫者将录制到右声道，接收者将录制到左声道。

### RECORD_TITLE

string 在执行录制之前设置，以存储在文件头元数据中（前提是文件格式支持元数据）。

**用法**

```xml
<action application="set" data="RECORD_TITLE=录音 ${destination_number} ${caller_id_number} ${strftime(%Y-%m-%d %H:%M)}"/>
```

### record_waste_resources

string 默认情况下，录音不发送RTP数据包。这在一般情况下是可以接受的，但对于较长的录音或根据网关的RTP定时器，您的通道可能会因为 MEDIA\_TIMEOUT 而挂断。设置此变量将在录音过程中发送RTP数据，从而“浪费”带宽。值可以是 `true`、`false` 或`[desired silence factor]`。如果设置`record_waste_resources=true`，默认的沉默因子是1400。

**用法**

```xml
<action application="set" data="record_waste_resources=true"/>
```

```xml
<action application="set" data="record_waste_resources=1300"/>
```

### RECORD_WRITE_ONLY

boolean 只录制写入流。

**用法**

###### 从FreeSWITCH向端点的角度看

Aleg正在录制，只有写入通道的出音才会进入文件中。

```xml
<action application="set" data="RECORD_WRITE_ONLY=true"/>
```

或者，Bleg正在录音，只有呼出音频被写入通道，并保存到文件中。

```xml
<action application="bridge" data="{RECORD_WRITE_ONLY=true}user/1000"/>
```

### 参见

[RECORD_READ_ONLY](../../Channel-Variables-Catalog/RECORD_READ_ONLY_16353891.mdx#--)

### recording_follow_transfer

当您希望在转接后继续录音时，将其设为`true`。

**使用方法**

```xml
<action application="set" data="recording_follow_transfer=true"/>
```

### recordings_dir

字符串

### recovery_profile_name

字符串，它在内部用于让核心恢复引擎知道哪个配置文件名称与呼叫相关。对于核心来说，配置文件名称只是呼叫的任意子类别，而对于[mod_sofia](../Modules/mod_sofia_1048707.mdx#about)而言，它表示SIP配置文件名称。请参阅[邮件列表讨论](http://lists.freeswitch.org/pipermail/freeswitch-users/2012-December/090291.html)。

### remote_media_ip

字符串

返回远程媒体服务器的IP地址。

### remote_media_port

整数

### remote_video_ip

字符串

### remote_video_port

整数

### ringback

字符串，此参数允许您在等待发起呼叫被答复的通道上设置人工回铃音。这将为A leg呼叫（即未应答的呼叫）指定要播放的音频。

语法：`<action application="set" data="ringback=[data]"/>`

其中`data`可以是音频文件的完整路径（![(warning)](/images/icons/emoticons/warning.svg)必须是完整路径！）或者[铃声生成标记语言](../Modules/mod-dptools/mod-dptools-gentones/TGML_6586573.mdx#lua)。

您还可以将其与 [ring\_ready](../Modules/mod_dptools_1970333.mdx#-c) 应用程序结合使用。在这种情况下，呼叫者会听到正常的回铃音片刻，然后听到定义的回铃媒体。

![(info)](/images/icons/emoticons/information.svg) 自 r15025 起，仅当没有提前媒体时才会生成本地回铃音。要强制使用本地回铃音，即使有提前媒体，请使用 [ignore\_early\_media](Variables-Master-List_16352570.mdx#ignore_early_media) 通道变量。

![(info)](/images/icons/emoticons/information.svg) 除非设置了变量_并且_被呼叫的一方有振铃提示，否则不会发送回铃音。如果您想在尚未收到振铃提示时伪造回铃音，请参阅 [instant\_ringback](Variables-Master-List_16352570.mdx#instant_ringback)。

**用法**

使用 `vars.xml` 中定义的法国铃声音调：

```xml
<action application="set" data="ringback=${fr-ring}"/>
```

美国铃声音调：

```xml
<action application="set" data="ringback=%(2000,4000,440.0,480.0)"/>
```

您可以在呼叫被接听后发送回铃音：

```xml
def handler(uuid):
    session = PySession(uuid)
    session.answer()
    session.speak("您好，正在将您的通话连接至第一个空闲坐席")
    session.execute("set","call_timeout=30")
    session.execute("set","continue_on_fail=true")
    session.execute("set","hangup_after_bridge=true")
    session.execute("set","ringback=%(2000,4000,440.0,480.0)")
    session.execute("bridge","sofia/foo/bar@test.com,sofia/foo/baz@test2.com:5070")
    session.speak("啊哦！")
```

### rss_alt_config

字符串

### rtcp_audio_interval_msec

整数值，用于设置每个 RTCP SR 数据包之间的时间间隔（以毫秒为单位）的通道变量。

![(warning)](/images/icons/emoticons/warning.svg) 将[rtp\_timer\_name](Variables-Master-List_16352570.mdx#rtp_timer_name)设置为`none`会导致与RTCP相关的各种不良副作用（未发送包、RTCP自动调整失败等）。

### rtcp_mux

boolean类型的通道变量，用于强制在呼出INVITE时使用rtcp-mux。

### rtcp_octet_count

integer类型，包含通话期间收集的RTCP字节数。

### rtcp_packet_count

integer类型，包含通话期间收集的RTCP数据包数。

### rtp_adv_audio_ip

string类型，此通道变量在SDP中以一次性基础明确设置IP地址。正常情况应该使用`sofia`配置文件中的`ext-rtp-ip`来进行设置。

**用法**

```xml
<action application="set" data="rtp_adv_audio_ip=127.0.0.1" />
```

### rtp_append_audio_sdp

string类型，可以用于将音频参数附加到发送给B-leg的SDP中。

必须在桥接之前设置。

**用法**

```xml
<action application="export" data="rtp_append_audio_sdp=a=fmtp:18 annexb=no"/>
```

### rtp_assume_rtcp

boolean类型的通道变量，用于强制FreeSWITCH始终将rtcp假定为rtp端口+ 1。

### rtp_autoflush

boolean类型，当设置为`true`（如果未设置，默认为true）时，如果套接字上已经有待读取的数据，则会跳过计时器等待。当设置为`false`时，它会始终等待一个计时器间隔。在此设置下，延迟的包会保存到udp堆栈中，并且我们会在核心中插入一个标记为CNG的填充包以保持数据的流动，从而确定其中没有包含音频。如果将其设置为false，则在对方以不同速度发送音频时会产生延迟（可能差异很小，但可累积）。

如果您的网络条件不佳，经常听到杂音与抖动相关，那么将此设置为`true`是值得的。有时候对方发送音频速度太快，将此选项设置为`false`可以使其平滑，但在抖动条件下，如果将其设置为`false`，它可能会以过快的速度移动。

### rtp_autoflush_during_bridge

布尔值，与[rtp_autoflush](Variables-Master-List_16352570.mdx#rtp_autoflush)相同，但在桥接期间设置。

### rtp_disable_hold

布尔值，当设置为`true`时，用户将无法将通话保持。

**用法**

```xml
<action application="set" data="rtp_disable_hold=true"/>
```

### rtp_disable_vad_in

布尔值

### rtp_disable_vad_out

布尔值

### rtp_enable_vad_in

布尔值

### rtp_enable_vad_out

布尔值

### rtp_force_audio_fmtp

字符串，设置音频FMTP。

### rtp_hold_timeout_sec

整数

### rtp_jitter_buffer_during_bridge

布尔值

**用法**

```xml
<action application="set" data="rtp_jitter_buffer_during_bridge=true"/>
```

```xml
<action application="set" data="rtp_jitter_buffer_during_bridge=false"/>
```

### rtp_manual_rtp_bugs

字符串

**用法**

```xml
<action application="set" data="rtp_manual_rtp_bugs=cisco_skip_mark_bit_2833"/>
```

### rtp_negotiate_near_match

布尔值，将此设置为true将导致FreeSWITCH在处理入站编解码器协商时考虑到Ptime。如果收到带有PCMU@30i编解码器的呼叫，而列表上只有PCMU@20i，它将首选与编解码器和ptime匹配的任何其他编解码器。这会改变行为并匹配PCMU@30i，尽管ptime不匹配。当然，这仅适用于在端点列表上有其他匹配的编解码器的情况。

**用法**

```xml
<action application="set" data="rtp_negotiate_near_match=true"/>
```

### rtp_rewrite_timestamps

布尔值

### rtp_sdes_suites

字符串

### rtp_secure_media

字符串

语法: `rtp_secure_media=<权限>[:<以冒号分隔的加密套件列表>]`

`sip_secure_media` 已不再实现

  
权限:

* `mandatory` \- 仅接受/提供 SAVP 协商
* `optional` \- 接受/提供 SAVP/AVP，但优先选择 SAVP
* `forbidden` \- 用于拒绝入站的 SAVP 协商
* `deprecated`false \- 表示 forbidden
* `deprecated`true \- 表示 mandatory
* `default` \- 如果提供，则接受入站 SAVP

加密套件:

* `AEAD_AES_256_GCM_8`
* `AEAD_AES_128_GCM_8`
* `AES_CM_256_HMAC_SHA1_80`
* `AES_CM_192_HMAC_SHA1_80`
* `AES_CM_128_HMAC_SHA1_80`
* `AES_CM_256_HMAC_SHA1_32`
* `AES_CM_192_HMAC_SHA1_32`
* `AES_CM_128_HMAC_SHA1_32`
* `AES_CM_128_NULL_AUTH`

示例:

* `rtp_secure_media=mandatory:AES_CM_256_HMAC_SHA1_80:AES_CM_256_HMAC_SHA1_32`
* `rtp_secure_media=true:AES_CM_256_HMAC_SHA1_80:AES_CM_256_HMAC_SHA1_32`
* `rtp_secure_media=optional:AES_CM_256_HMAC_SHA1_80`
* `rtp_secure_media=true:AES_CM_256_HMAC_SHA1_80`

### rtp_secure_media_inbound

字符串

与 [rtp\_secure\_media](Variables-Master-List_16352570.mdx#rtp_secure_media) 语法相同: `rtp_secure_media_inbound=<权限>[:<以冒号分隔的加密套件列表>]`

示例:

`rtp_secure_media_inbound=true:AEAD_AES_256_GCM_8:AES_CM_256_HMAC_SHA1_80:AES_CM_256_HMAC_SHA1_32`

`rtp_secure_media_inbound=mandatory:AEAD_AES_256_GCM_8`

### rtp_secure_media_outbound

字符串

与 [rtp\_secure\_media](Variables-Master-List_16352570.mdx#rtp_secure_media) 语法相同: `rtp_secure_media_outbound=<权限>[:<以冒号分隔的加密套件列表>]`

示例:

`rtp_secure_media_outbound=true:AEAD_AES_128_GCM_8`

`rtp_secure_media_outbound=optional:AEAD_AES_128_GCM_8`

### rtp_secure_media_suites

string 是一种可选的备用变量，用于指定一个以冒号分隔的可用加密套件列表。如果指定了该变量，则[rtp_secure_media](Variables-Master-List_16352570.mdx#rtp_secure_media)只需要指定权限标记，而不需要指定套件列表。

语法：`rtp_secure_media_suites=<加密套件列表>`

### rtp_stun_ping

string

### rtp_timeout_sec

integer

### rtp_timer_name

string

### run_dir

string

### script_dir

string

### sdp_m\_per_ptime

boolean 为编解码器列表中的每个不同ptime添加一个新的`m=`行。

当此变量未设置时：

* 当在编解码器列表中混合使用不同ptime的编解码器时，它们现在可以共存于SDP中，但不会发送ptime属性。这意味着在混合使用不同ptime的编解码器时，将忽略offer上的ptime优先级。当接收到没有ptime属性的编解码器列表时，将从本地优先级中选择ptime，而不是假定为20毫秒。这意味着如果offer中包含没有ptime的PCMU且FS包含PCMU@40i
* 动态负载将从98开始，每次调用增加一个动态编解码器。因此，现在您可以添加CELT@32000h、CELT@48000h，每一个都会自动分配一个动态负载类型。

如果你不喜欢此行为，默认情况下它被视为`true`，如果要禁用它，请将其设置为`false`，但这样做可能会导致未定义的行为。这基本上意味着如果您使用ptime 30呼叫，而出站列表中有一堆ptime 20的编解码器，那么将会有一个带有30和原始入站编解码器的m=行，以及每个列表中不同ptime的更多`m=`行。当然，这也取决于[disable_transcoding](Variables-Master-List_16352570.mdx#easy_dialstring)或[absolute_codec_string](Variables-Master-List_16352570.mdx#absolute_codec_string)的设置。

**用法**

```xml
<action application="set" data="sdp_m_per_ptime=true"/>
```

### sdp_secure_savp_only

string 当 `rtp_secure_media=true` 时，FreeSWITCH 将在 SDP 中同时提供 AVP 和 SAVP。设置 `sdp_secure_savp_only=true`（除了 [rtp\_secure\_media](Variables-Master-List_16352570.mdx#rtp_secure_media)`=true`）将导致 FreeSWITCH 只在 SDP 中提供 SAVP。

**用法**

```xml
<action application="export" data="sdp_secure_savp_only=true"/>
```

### send_silence_when_idle

string 用于终止在IVR菜单或语音邮箱中的1-leg呼叫。

当大于 `0` 时，此变量告诉 FreeSWITCH 在空闲时传输舒适噪声。此变量的值设置为静默生成函数的除数。一般设置为 `400` 或 `1400`，但您可以尝试其他选择以选择最佳效果的值。

当为 `true` 时，FreeSWITCH 将选择默认的舒适噪声值。

当为 `-1` 时，FreeSWITCH 将传输静默，没有舒适噪声。

**用法**

```xml
<action application="set" data="send_silence_when_idle=400"/>
```

### session_in_hangup_hook

boolean 允许通道变量在执行通道的[api\_hangup\_hook](Variables-Master-List_16352570.mdx#api_hangup_hook)时可访问。有关示例，请参见[Lua env object](../Client-and-Developer-Interfaces/Lua-API-Reference/index.mdx#special-case-env-object)。

**用法**

```xml
<action application="set" data="session_in_hangup_hook=true"/>
```

### signal_bond

string 通道绑定到的此通道的通道的UUID。在单通道通话中不存在。

### signal_bridge_to

string

### sip

string

### sip_acl_authed_by

string 只读 包含授权此呼叫的ACL节点的名称。

### sip_acl_token

字符串 只读 含有当前呼叫的ACL授权令牌。

### sip_auth_method

字符串 用于进行身份验证的请求方法。

已知值：

* `REGISTER`

### sip_auth_password

字符串 对于 `mod_sofia` 与 `sip_auth_username` 结合使用，以在不定义完整网关的情况下应答身份验证挑战。

**用法**

```xml
originate {sip_auth_username=<your_user_name>,sip_auth_password=<your_password>}sofia/external/1xxxxxxx@12.34.56.78 &echo
```

### sip_auth_realm

字符串 如果适用，此字段应包含触发事件的经过身份验证的用户的域/领域。

**用法**

```xml
originate {sip_auth_username=<your_user_name>,sip_auth_password=<your_password>}sofia/external/1xxxxxxx@12.34.56.78 &echo
```

根据您的FreeSWITCH实例配置，调用“bridge”应用程序后，该变量可能不正确或为空。如果发生这种情况，您可能需要强制通道变量：

```xml
<action application="bridge" data="{sip_auth_realm=${sip_auth_realm}}sofia/gateway/external/2000"/>
```

### sip_auth_username

字符串 用于在不定义完整网关的情况下应答身份验证挑战的 `mod_sofia` 。与 `sip_auth_password` 配合使用。还表示设备成功注册到FreeSWITCH的SIP用户名。

**用法**

```xml
originate {sip_auth_username=<your_user_name>,sip_auth_password=<your_password>}sofia/external/1xxxxxxx@12.34.56.78 &echo
```

### sip_authorized

字符串 指示访问拨号计划的SIP设备是否经过FreeSWITCH授权。SIP设备可以通过ACL或通过摘要认证进行授权。

### sip_auto_answer

**boolean** 告诉SIP电话在支持的情况下自动应答电话，可用于对讲机支持。

**用法**

```xml
<action application="export" data="sip_auto_answer=true"/>
```

### sip_auto_answer_detected

**string**

### sip_auto_answer_notify

**string**

### sip_auto_answer_suppress_notify

**string**

### sip_auto_simplify

**boolean** 如果设置为`true`，这将指示FreeSWITCH在SIP信令路径上将其自身安全地删除。

**用法**

```xml
<action application="set" data="sip_auto_simplify=true"/>
```

### sip_call_id

**string** SIP头部`Call-ID`。

### sip_callee_id_name

**string** 废弃的，在入站路径上设置以控制呼叫者电话显示的呼叫者ID号码。

**用法**

![(信息)](/images/icons/emoticons/information.svg) 如果发现`set`不起作用，请尝试使用`export`。

```xml
<action application="set" data="sip_callee_id_name=Reginald" />
<action application="set" data="sip_callee_id_number=2332" />
<action application="bridge" data="sofia/gateway/provider/<Reginald's cellphone number>" />
```

### sip_cid_in_1xx

**boolean** 防止FreeSWITCH在从B到A发送183之前自动插入RPID。可以使用以下方式定义配置文件范围内的参数：`pass-callee-id=false`。

**用法**

```xml
<action application="set" data="sip_cid_in_1xx=false"/>
```

### sip_cid_type

**string** 修改外部呼叫时呼叫者ID显示在SIP头部的方式。入站路径上的[privacy](../Modules/mod_dptools_1970333.mdx#-c)控制RPID和Privacy头部的其余内容。

**用法**

不发送额外的呼叫者ID信息（呼叫者ID将在SIP `From`中）：

![(警告)](/images/icons/emoticons/warning.svg) 这对于网关不起作用。必须在网关设置中设置`caller-id-in-from=true`。

```xml
{sip_cid_type=none}sofia/default/user@example.com
```

发送 `Remote-Party-ID`（默认）：

```xml
{sip_cid_type=rpid}sofia/default/user@example.com
```

发送 `P-Asserted-Identity`：

![(warning)](/images/icons/emoticons/warning.svg) 必须设置privacy flag，否则将会插入`P-Preferred-Identity`而不是`P-Asserted-Identity`。

```xml
{sip_cid_type=pid}sofia/default/user@example.com
```

发送带有所选内容和privacy flags的RPID（以`+`分隔, 使用`none`清除所有flags）：

```xml
{sip_cid_type=rpid,origination_caller_id_name=test,origination_caller_id_number=1234,origination_privacy=screen+hide_name+hide_number}sofia/default/user@example.com
```

发送带有所选内容的`Remote-Party-ID`：

```xml
{sip_cid_type=rpid,origination_caller_id_name=test,origination_caller_id_number=1234}sofia/default/user@example.com
```

### sip_codec_negotiation

字符串`sip_codec_negotiation`基本上是`inbound-codec-negotiation`的通道变量等效项。

选项:

* `generous`
* `scrooge`
* `greedy`

在[74a0cfd1e101413a3941c41d04ee01d8df2ae418](https://freeswitch.org/stash/projects/FS/repos/freeswitch/commits/74a0cfd1e101413a3941c41d04ee01d8df2ae418)之前，`sip_codec_negotiation`将始终被sofia配置参数`sip-codec-negotiation`所覆盖。从此版本开始，可以按呼叫基础更改编解码器协商。

**用法**

```xml
<action application="set" data="sip_codec_negotiation=greedy"/>
```

### sip_contact_host

`Contact` SIP头中的主机名部分。

**用法**

如果您的请求头包含：

```xml
Contact: <sip:gw+test@server.example.com:5060;transport=udp;gw=test>
```

那么该字段的值将为：

```xml
server.example.com
```

### sip_contact_port

整数端口是`Contact` SIP 头的一部分。

**使用方法**

如果你的请求头包含以下内容：

```xml
Contact: <sip:gw+test@server.example.com:5060;transport=udp;gw=test>
```

那么该字段的值应为：

```xml
5060
```

### sip_contact_user

`Contact` SIP 头中的用户名部分。

**使用方法**

如果你的请求头包含以下内容：

```xml
Contact: <sip:gw+test@server.example.com:5060;transport=udp;gw=test>
```

那么该字段的值应为：

```xml
gw+test
```

### sip_copy_custom_headers

为了将一些自定义的 X-头部从 B-leg 传递到 A-leg，将 `{sip_copy_custom_headers=true}` 添加到 B-leg 的拨号字符串中。

**使用方法**

将其设置为 `false` 禁用将自定义的 X-头部发送给 SIP 网关提供商：

```xml
<action application="set" data="sip_copy_custom_headers=false"/>
```

### sip_copy_multipart

FreeSWITCH 仅支持具有多部分实体的 `INVITE` 请求。FreeSWITCH 不支持具有多部分实体的响应消息，例如 `183 Session Progress` 或使用多部分实体的 `200 Ok`。通常，SIP 实体只有一个使用 `application/sdp` MIME 类型的部分，其中包含 SDP。SIP 规范允许使用 MIME 类型为 `multipart/mixed` 的多个实体。在这种情况下，FreeSWITCH 将尽力找到包含 SDP 的 MIME 部分，并像平常一样解析它。但是，你可以通过此变量改变 FreeSWITCH 对多部分实体和桥接的行为。

![(信息)](/images/icons/emoticons/information.svg) FreeSWITCH 会"按对的方式"为 B-leg 附加由 FreeSWITCH 生成的 application/sdp 类型（根据你的设置）。其他非 SDP 的 MIME 部分只是直接通过。

**使用方法**

如果要让 FreeSWITCH 在使用桥接时保留多个 MIME 部分的完整性（默认行为）：

```xml
<action application="set" data="sip_copy_multipart=true"/>
```

为了在使用桥接时让FreeSWITCH去除多个MIME部分：

```xml
<action application="set" data="sip_copy_multipart=false"/>
```

### sip_destination_url

字符串

### sip_enable_soa

布尔值 可以基于每个呼叫设置为`false`以禁用SIP SOA，从而在SDP的交换过程中基本上不进行修改。

**用法**

```xml
<action application="set" data="bypass_media=true"/>
<action application="export" data="sip_enable_soa=false"/>
```

### sip_exclude_contact

字符串

### sip_execute_on_image

字符串 在收到T.38 invite时立即执行一个应用程序。此变量类似于[execute\_on\_answer](Variables-Master-List_16352570.mdx#execute_on_answer)。当收到T.38重新邀请但没有CNG音调，或者想要忽略音调并仅在收到T.38重新邀请时做出反应时，可以运行t38\_gateway或rxfax等。

### sip_force_audio_fmtp

字符串 设置音频fmtp。

### sip_force_full_from

字符串

### sip_force_full_to

字符串

### sip_force_video_fmtp

布尔值

### sip_from_comment

字符串

### sip_from_display

字符串 SIP From: 行的 'User' 元素

**用法**

清除发送到Leg B呼叫的SIP消息的用户部分：

```xml
<action application="bridge" data="{sip_from_display=_undef_}user/1001"/>
```

### sip_from_host

字符串 `From` SIP头的主机名部分。

**用法**

如果您的请求头包含：

```xml
From: <sip:1000@server.example.com>;tag=0e70ba56
```

那么该字段的值将为：

```xml
server.example.com
```

### sip_from_port

整数 `From` SIP头的端口部分。

**用法**

如果您的请求头包含：

```xml
From: <sip:1000@server.example.com:5661>;tag=0e70ba56
```

然后，此字段的值将是：

```xml
5661
```

然而，如果您的请求头不包含端口，则此字段的值将是默认的 SIP 端口（通常是 5060）- 例如：

```xml
From: <sip:1000@server.example.com>;tag=0e70ba56
```

### sip_from_uri

字符串 发送 INVITE 的终端的 SIP URI。

**用法**

```xml
<action application="export" data="sip_from_uri=${sip_from_uri}"/>
```

一些 SIP 供应商坚持以非正常的方式处理来电显示。在大多数情况下，您可以使用 [effective\_caller\_id\_name](Variables-Master-List_16352570.mdx#effective_caller_id_name) 和 [effective\_caller\_id\_number](Variables-Master-List_16352570.mdx#effective_caller_id_number) 在桥接呼叫的出站（B 腿）上设置呼叫者 ID。但在某些情况下，SIP 供应商不喜欢，可能仅显示“匿名”或其他默认的呼叫者 ID 信息。

上述示例获取传入 SIP 呼叫的 From URI，并将该值导出到 B 腿。当您遇到以下方案时，这很方便：

```xml
Alice ==> FreeSWITCH bridge ==> Bob
```

您希望 Alice 的呼叫者 ID 信息发送到 Bob，而不是 FreeSWITCH 的呼叫者 ID 信息。通常情况下，“直接工作”，但如果不起作用，可以尝试上述方法导出 sip\_from\_uri。

### sip_from_user

字符串 `From` SIP 头的用户名部分。

**用法**

如果您的请求头包含：

```xml
From: <sip:1000@server.example.com>;tag=0e70ba56
```

那么此字段的值将是：

```xml
1000
```

### sip_from_user_stripped

字符串 这与 [sip\_from\_user](Variables-Master-List_16352570.mdx#sip_from_user) 相同，但被剥去了符号 `+`。

### sip_gateway

字符串

### sip_gateway_name

如果您的呼叫是外拨的，而Leg B通过网关路由，则此变量将包含网关名称。

**用法**

用户在内部配置文件上呼叫，通过网关"ntl"路由出去:

```xml
sip_profile_name=gateway
sip_gateway_name=ntl
sofia_profile_name=internal
```

### sip_h\_Referred-By

字符串 这是SIP消息中的"Referred-By"行。它可以在将号码转接到其他地方时设置。

**用法**

```xml
<action application="set" data="sip_h_referred-by=000@domain.com"/>
```

如果要取消设置，您可以使用:

```xml
<action application="unset" data="sip_h_referred-by"/>
```

### sip_handle_full_from

字符串

### sip_handle_full_to

字符串

### sip_hangup_disposition

字符串 此变量包含发送SIP BYE消息的人的值。以下是来自XML CDRs的一些示例:

```xml
<sip_hangup_disposition>send_bye</sip_hangup_disposition>
<sip_hangup_disposition>recv_bye</sip_hangup_disposition>
<sip_hangup_disposition>send_refuse</sip_hangup_disposition>
<sip_hangup_disposition>send_cancel</sip_hangup_disposition>
```

对于呼入和呼出的不同，这些值的解释在于FreeSWITCH位于会话的不同端点：

| 值           | 输入                                           | 输出                                               |
| ------------ | ---------------------------------------------- | -------------------------------------------------- |
| send\_bye    | FS向呼叫方发送了BYE请求（我们挂断了电话）      | FS向终端设备发送了BYE请求（我们挂断了电话）        |
| recv\_bye    | FS接收到了呼叫方发送的BYE请求（他们挂断了电话） | FS接收到了终端设备发送的BYE请求（他们挂断了电话）  |
| send\_refuse | FS拒绝了呼叫（例如4xx或5xx）                    | 终端设备拒绝了呼叫（例如4xx或5xx）                  |
| send\_cancel | _n/a_                                          | FS取消了呼叫（我们发送了CANCEL请求）                |

### sip_has_crypto

string（已弃用）使用[rtp\_has\_crypto](Variables-Master-List_16352570.mdx#sip_has_crypto)代替。

### sip_header_name

string

### sip_history_info

string

### sip_ignore_183nosdp

string 忽略没有SDP的183响应。此选项不适用于正常基本呼叫流程。

**用法**

```xml
<action application="set" data="sip_ignore_183nosdp=true"/>
```

### sip_ignore_reinvites

boolean 告诉FreeSWITCH接受/忽略来自远程端的re-INVITE请求。

**用法**

一旦建立通话，不允许任何re-INVITE请求：

```xml
<action application="set" data="sip_ignore_reinvites=true"/>
```

### sip_ignore_remote_cause

boolean

### sip_invite_call_id

string 在发起呼叫时使用的SIP `Call-ID`。

**用法**

```xml
<action application="set" data="sip_invite_call_id=mycustomcallid"/>
```

### sip_invite_contact_params

string

### sip_invite_domain

string 设置呼叫方的域名（leg B）。

**用法**

```xml
<action application="bridge" data="{sip_invite_domain=${sip_from_host}}sofia/gateway/gw1/$1@domain.org"/>
```

### sip_invite_from_params

设置呼叫的B-leg的from参数。from参数在`user@host:port`之后，port之前。初始的分号是在端口之后添加的。

**使用方法**

```xml
{sip_invite_from_params=otg=mytrunk}sofia/gateway/sonus/$1
```

返回：

```xml
From: <sip:5552345678@sonus:5060;otg=mytrunk>;tag=blah
```

### sip_invite_from_uri

string

### sip_invite_full_from

string

### sip_invite_full_to

string

### sip_invite_params

string

### sip_invite_record_route

string

### sip_invite_req_uri

string 在调用bridge或者originate时设置头部`Request-Line INVITE`中的URI。

![(warning)](/images/icons/emoticons/warning.svg) [RFC 3261](https://tools.ietf.org/html/rfc3261)指定符合规范的终端应该基于Request URI进行路由，而不是基于`To:`中的URI。

**使用方法**

```xml
<action application="bridge" data="{sip_invite_req_uri=sip:11112222@test1.com}sofia/external/33334444%192.168.4.6"/>
```

结果：

```xml
INVITE sip:11112222@test1.com SIP/2.0
From: "" <sip:0000000000@192.168.2.7>;tag=N6K579y4g6j0D
To: <sip:33334444@192.168.4.6>
```

### sip_invite_route_uri

string 在调用bridge或者originate时设置头部`Route`中的URI。

**使用方法**

```xml
originate {sip_invite_route_uri=<sip:+48399999999@10.0.0.51:5080;lr;orig>,origination_caller_id_number=399999000}sofia/internal/+48399999999@domain.com &echo
```

结果：

```xml
INVITE sip:+48399999999@domain.com SIP/2.0
Via: SIP/2.0/UDP 10.0.0.51;rport;branch=z9hG4bKpmFv4aXv4tKcK
Route: <sip:+48399999999@10.0.0.51:5080;lr;orig>
```

### sip_invite_tel_params

string 在呼出调用时在SIP URI中出现的Tel URI参数（npdi，rn）。

**使用方法**

要生成`INVITE sip:555000002;npdi=yes;rn=5555550001@1.2.3.4;user=phone SIP/2.0`：

```xml
<action application="bridge" data="{sip_invite_tel_params=npdi=yes;rn=555000001,sip_invite_params=user=phone}sofia/gateway/test_gw/555000002"/>
```

### sip_invite_to_params

字符串

### sip_invite_to_uri

字符串 在调用bridge或originate时设置`To`头中的URI。

**用法**

```xml
originate {sip_invite_to_uri=<sip:11112222@test1.com>}sofia/internal/33334444@192.168.4.6 &park
```

结果：

```xml
INVITE sip:33334444@192.168.4.6 SIP/2.0
From: "" <sip:0000000000@192.168.2.7>;tag=N6K579y4g6j0D
To: <sip:11112222@test1.com>
```

或者，如果您只想设置`To`头中的用户名，则可以在拨号字符串的末尾传递它：

```xml
originate sofia/internal/33334444@192.168.4.6^11112222 &park
```

结果：

```xml
INVITE sip:33334444@192.168.4.6 SIP/2.0
From: "" <sip:0000000000@192.168.2.7>;tag=Qr6pB00BBrZ5m
To: <sip:11112222@@192.168.4.6>
```

### sip_jitter_buffer_plc

布尔值 启用/禁用在使用jitte缓冲区时的丢包纠错（PLC）。当启用jitte缓冲区时，PLC默认启用。在启用jitte缓冲区之前设置此变量才能生效。

**用法**

```xml
<action application="set" data="sip_jitter_buffer_plc=true"/>
```

```xml
<action application="set" data="sip_jitter_buffer_plc=false"/>
```

### sip_local_sdp_str

字符串

### sip_local_url

字符串

### sip_looped_call

布尔值 如果呼叫已通过ACL以外的其他方式进行身份验证，并且当前请求的IP/端口与配置文件的IP/端口匹配，则为`true`（参见[src/mod/endpoints/mod\_sofia/sofia.c](https://freeswitch.org/stash/projects/FS/repos/freeswitch/browse/src/mod/endpoints/mod%5Fsofia/sofia.c)）。

**用法**

在`conf/dialplan/public.xml`中：

```xml
<condition field="${sip_looped_call}" expression="^true$">
```

```xml
<extension name="unloop">
  <condition field="${unroll_loops}" expression="^true$"/>
  <condition field="${sip_looped_call}" expression="^true$">
    <action application="deflect" data="${destination_number}"/>
  </condition>
</extension>
```

### sip_mirror_remote_audio_codec_payload

用于告诉SIP打破RFC，并期望对方回复的编解码有效载荷，而不是它所提供的有效载荷，这是正确的行为。

![(info)](/images/icons/emoticons/information.svg) 可以全局设置此变量或每个通道设置。

### sip_nat_detected

字符串

### sip_network_destination

字符串，用于设备在NAT后注册的情况下。`Request-URI`应包含与注册请求期间绑定到AOR的联系方式，而请求本身应发送到NAT的公共IP和端口号。它不像`;fs_path=` 或 [sip\_route\_uri](Variables-Master-List_16352570.mdx#sip_route_uri) 选项那样，在请求中添加`Route`头字段。

**用法**

```xml
<action application="bridge" data="{sip_network_destination=sip:5551234567@66.243.109.243:10005}sofia/external/5551234567@172.16.110.45:5060"/>
```

### sip_outgoing_call_id

字符串，已废弃。已被[sip\_invite\_call\_id](Variables-Master-List_16352570.mdx#sip_invite_call_id)替代。

### sip_p\_rtp_stat

字符串

### sip_profile

字符串，请求接收的SIP配置文件的名称。

### sip_profile_name

字符串，如果呼叫是出站的，则此变量将包含用于出站通道（Leg B）的配置文件名称。

如果出站通道是网关，则此变量将设置为`gateway`，您需要查看`sip_gateway_name`获取网关名称。

如果出站通道是另一个配置文件，则此变量将设置为该配置文件的名称。

![(warning)](/images/icons/emoticons/warning.svg) 请不要将其与 [sofia\_profile\_name](Variables-Master-List_16352570.mdx#sofia_profile_name) 混淆，后者是 Leg A 的配置文件名称。

**用法**

来自内部配置文件的用户呼叫，通过"ntl"网关路由出去：

```xml
sip_profile_name=gateway
sip_gateway_name=ntl
sofia_profile_name=internal
```

来自内部配置文件的用户呼叫，通过内部配置文件路由出去：

```xml
sip_profile_name=internal
sip_gateway_name=
sofia_profile_name=internal
```

来自外部配置文件的用户呼叫，通过内部配置文件路由出去：

```xml
sip_profile_name=internal
sip_gateway_name=
sofia_profile_name=external
```

### sip_received_ip

字符串

### sip_received_port

整数

### sip_recover_contact

字符串

### sip_recover_via

字符串

### sip_recovery_break_rfc

字符串，请勿在 UAS Re-INVITE 上颠倒 "from" 和 "to"，这会破坏 RFC。

![(info)](/images/icons/emoticons/information.svg) 可以在全局或每个通道中设置此变量。

### sip_refer_reply

字符串

### sip_referred_by_cid

字符串

### sip_referred_by_user_stripped

字符串

### sip_renegotiate_codec_on_reinvite

布尔值，允许在重新 INVITE 时更改 SDP 编解码器。

**用法**

```xml
<action application="bridge" data="{sip_renegotiate_codec_on_reinvite=true}sofia/gateway/trunk/$1"/>
```

在 `vars.xml` 中全局设置：

```xml
<X-PRE-PROCESS cmd="set" data="sip_renegotiate_codec_on_reinvite=true"/>
```

在 SIP 配置文件中：

```xml
<param name="renegotiate-codec-on-reinvite" value="true"/>
```

### sip_reply_host

字符串

### sip_request_host

字符串，SIP 报头的主机名部分。

**用法**

如果请求报头以以下内容开头：

```xml
REGISTER sip:172.16.44.8 SIP/2.0
```

这个字段的值将会是：

```xml
172.16.44.8
```

### sip_request_port

字符串，SIP消息中端口的部分。

**用法**

如果你的请求头以如下形式开始：

```xml
REGISTER sip:172.16.44.8:5061 SIP/2.0
```

那么这个字段的值将会是：

```xml
5061
```

然而，如果你的请求头中不包含端口信息，那么这个字段的值将会是默认的SIP端口（通常为5060）：

```xml
REGISTER sip:172.16.44.8 SIP/2.0
```

### sip_require_timer

boolean 类型，默认情况下，FS在会话刷新时需要定时器，除非是T.38重新邀请。如果要在会话刷新时禁用定时器，请将其设置为`false`。

**用法**

```xml
<action application="set" data="sip_require_timer=false"/>
```

### sip_route_uri

字符串，设置INVITE请求包应该实际发送到的位置。

通常情况下，只有当TO字段包含一个指向自身的主机名时才需要设置这个变量，否则会导致无限循环。

参见：[FS-5349](https://freeswitch.org/jira/browse/FS-5349?src=confmacro)  \-[认证](https://freeswitch.org/confluence/plugins/servlet/applinks/oauth/login-dance/authorize?applicationLinkID=c4b15fa3-ad57-3c05-af05-8c167cb92266) 查看问题详情。

**用法**

非常简单的用法，在桥接之前立即设置要桥接到的终端：

```xml
bridge {sip_route_uri=sip:USER@HOSTNAME.or.IP.ADDRESS}
```

一个真实的例子，在这个例子中需要这个功能。它改变了`Request-URI`并通过查找已注册终端的联系方式将INVITE数据包发送到正确的目的地。这用于将呼入的电话呼叫发送到已注册的终端（在这种情况下为PBX），但设置了一个`Request-URI`，以便呼叫可以被接收方路由。如果没有设置`sip_route_uri`变量，呼叫将不断地在FreeSWITCH中循环，直到发起方取消呼叫。呼入号码将路由到另一个分机，并导出原始拨号的DDI（作为dialled_ddi），以便可以在这个桥接命令中使用。

```xml
bridge {sip_route_uri=sip:${sofia_contact(${dialed_extension}@${domain_name})},sip_invite_req_uri=sip:${dialled_ddi}@${domain_name}}user/${user_data(${dialed_extension}@${domain_name} attr id)}@${domain_name}
```

### sip_rtp_rxstat

字符串

### sip_rtp_txstat

字符串

### sip_secure_media

字符串 已过时 不再使用。请使用[rtp_secure_media](Variables-Master-List_16352570.mdx#rtp_secure_media)。

### sip_sticky_contact

字符串

### sip_subject

字符串

### sip_term_cause

字符串

### sip_term_status

字符串

### sip_to_comment

字符串

### sip_to_host

字符串 `To` SIP 头中的主机名部分。

**用法**

如果您的请求头包含：

```xml
To: <sip:1000@server.example.com>;tag=0e70ba56
```

那么这个字段的值将是：

```xml
server.example.com
```

### sip_to_port

字符串 `To` SIP 头中的端口部分。

**用法**

如果您的请求头包含：

```xml
To: <sip:1000@server.example.com:5661>;tag=0e70ba56
```

那么这个字段的值将是：

```xml
5661
```

然而，如果您的请求头不包含端口，则此字段的值将是您的默认SIP端口（通常为5060）：

```xml
To: <sip:1000@server.example.com>;tag=0e70ba56
```

### sip_to_uri

字符串

### sip_to_user

字符串 `To` SIP头的用户名部分。

**用法**

要手动设置，请使用：

```xml
<action application="set" data="sip_to_user=whatevah" />
```

然后此字段的值将是：

```xml
1000
```

您可以使用以下选项进行呼叫：

```xml
bridge(sofia/external/333@biloxi.com^1234)
```

或者进行呼叫：

```xml
bridge(sofia/external/333^1234@biloxi.com)
```

### sip_transport

字符串

### sip_use_gateway

字符串

### sip_user_agent

字符串 SIP头的用户代理部分。

**用法**

如果您的请求头包含以下内容：

```xml
User-Agent: FreeSWITCH-mod_sofia/1.2.0-rc2+git~20120713T162602Z~0afd7318bd+unclean~20120713T184029Z
```

那么此字段的值将是：

```xml
FreeSWITCH-mod_sofia/1.2.0-rc2+git~20120713T162602Z~0afd7318bd+unclean~20120713T184029Z
```

### sip_via_host

字符串

### sip_via_port

整数

### sip_via_protocol

字符串

### sip_via_rport

字符串

### sip_video_fmtp

字符串

### sip_video_pt

字符串

### sip_wait_for_aleg_ack

字符串 当您在出站呼叫的b leg的`{}`中设置变量`sip_wait_for_aleg_ack`时，应该使b leg延迟发送`ACK`，直到看到a leg收到了ack。

**用法**

```xml
<action application="bridge" data="{sip_wait_for_aleg_ack=true}sofia/internal/foo@bar.com"/>
```

### skeleton

字符串 这是一个创建通道变量页面的示例。该部分是变量的描述。在此处放置描述信息，然后放置下面的用法示例。

**用法**

```xml
<action application="set" data="skeleton=foo"/>
```

### skip_cdr_causes

字符串 这是一个不应触发CDR处理的呼叫挂断原因列表。

### sleep_eat_digits

布尔值 当设置为 `true` 时，睡眠应用程序将消耗DTMF信号，这将例如防止呼叫者退出IVR。默认行为是不消耗DTMF信号。此变量在SVN版本14102中添加。

![(warning)](/images/icons/emoticons/warning.svg) 这是默认行为的变化，因为睡眠应用程序以前会异常地消耗DTMF信号。请确保将`sleep_eat_digits`设置为`true`以保留以前的行为。

**用法**

```xml
<action application="set" data="sleep_eat_digits=true"/>
```

### socket_host

字符串

### socket_path

字符串

### SOFIA_CRYPTO_MANDATORY_VARIABLE

字符串

### SOFIA_HAS_CRYPTO_VARIABLE

字符串

### sofia_profile_domain_name

字符串

### sofia_profile_name

字符串 呼叫来源的配置文件的名称（Leg A）。

![(warning)](/images/icons/emoticons/warning.svg) 不应将其与[sip\_profile\_name](Variables-Master-List_16352570.mdx#voicemail_profile_name)混淆。

**用法**

从外部配置文件的用户呼叫

```xml
sofia_profile_name=external
```

从内部配置文件的用户呼叫

```xml
sofia_profile_name=internal
```

### sofia_record_file

字符串

### SOFIA_REFER_TO_VARIABLE

字符串

### SOFIA_REPLACES_HEADER

字符串

### SOFIA_SECURE_MEDIA_CONFIRMED_VARIABLE

字符串

### SOFIA_SECURE_MEDIA_VARIABLE

字符串

### SOFIA_SESSION_TIMEOUT

字符串

### sound_prefix

存放短语宏声音和默认保存录音的目录前缀。请参见[mod_dptools:record](../Modules/mod_dptools_1970333.mdx#-c)，[mod_dptools:record_session](../Modules/mod_dptools_1970333.mdx#-c)和[mod_commands](../Modules/mod_commands_1966741.mdx#--)（FreeSWITCH API）的`uuid_record`。

请参阅[变量](../Introduction/Variables/index.mdx#0-about)以了解如何检查本地和全局变量的值。

### sounds_dir

字符串

### spandsp_dtmf_rx_filter_dialtone

布尔值，设置spandsp DTMF检测器中的滤除拨号音参数。默认情况下，拨号音过滤是禁用的。在执行[spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications)之前设置此变量。

**用法**

```xml
<action application="set" data="spandsp_dtmf_rx_filter_dialtone=true"/>
<action application="spandsp_start_dtmf" />
```

### spandsp_dtmf_rx_reverse_twist

整数，设置spandsp DTMF检测器中的反转扭曲设置。默认情况下，反转扭曲设置为4 dB。可以安全地增加该值到6或7，以允许检测到超过此阈值的DTMF信号而不会显著增加杂音。在执行[spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications)之前设置此变量。

**用法**

```xml
<action application="set" data="spandsp_dtmf_rx_reverse_twist=6"/>
<action application="spandsp_start_dtmf" />
```

### spandsp_dtmf_rx_threshold

整数，设置spandsp DTMF检测器中的阈值参数。默认情况下，阈值设置为-42 dBm0。在执行[spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications)之前设置此变量。

**用法**

```xml
<action application="set" data="spandsp_dtmf_rx_threshold=-42"/>
<action application="spandsp_start_dtmf" />
```

### spandsp_dtmf_rx_twist

dtmf digit 设置 spandsp DTMF 检测器的 twist 参数。默认情况下，twist 设置为 8 dB。在执行 [spandsp\_start\_dtmf](../Modules/mod_spandsp_6587021.mdx#dialplan-applications) 之前设置此变量。

**用法**

```xml
<action application="set" data="spandsp_dtmf_rx_twist=8"/>
<action application="spandsp_start_dtmf" />
```

### star_replace

字符串

### start_epoch

整数

### start_stamp

字符串

### start_uepoch

整数

### storage_dir

字符串

### stream_prebuffer

字符串

### suppress_cng

布尔值，在SDP中设置`a=silenceSupp: off`，禁用呼出通话时的静音抑制。

**用法**

```xml
<action application="set" data="suppress_cng=true"/>
```

### switch_m\_sdp

只读字符串，用于存储呼叫的另一个通道/腿的远程SDP。（在A腿中，这将是B腿的远程SDP）。此变量被设置，但FreeSWITCH从未使用过。

### SWITCH_PLAYBACK_TERMINATOR_USED

字符串

### switch_r\_sdp

只读字符串，该变量保存当前通道/腿的远程SDP。

**用法**

![(warning)](/images/icons/emoticons/warning.svg) `set` 后面不要添加换行符，否则将导致变量名称不同，从而使 `switch_r_sdp` 的值不变。

```xml
<action application="set"><![CDATA[switch_r_sdp=(sdp here)
]]>
</action>
```

### switch_serial

字符串

### SWITCH_UUID_BRIDGE

字符串

### temp_dir

字符串

### temp_hold_music

**此变量指定一个保留音乐值，只会在来电被转接之前播放给呼叫者。转接后，`hold_music` 变量将生效。**

**用法**

```xml
<action application="set" data="temp_hold_music=local_stream://alternate_moh"/>
```

### timer_name

**字符串 如果设置了，将使用计时器来时钟音频的播放和说话，而不是读取。**

**用法**

```xml
<action application="set" data="timer_name=soft"/>
```

### timezone

**字符串 为特定呼叫设置时区。例如，可以用它来为检查语音信箱的呼叫者设置时区。该值以 Linux 时区格式表示（例如 America/New_York -- 可以在 `/usr/share/zoneinfo/zone.tab` 查看 Linux 时区的标准列表）。**

![(警告)](/images/icons/emoticons/warning.svg) 在进行比较之前，必须确实设置此变量，因此要么在行内设置它，要么在转接时设置它，或者在用户目录中设置它。

参见：[Time of Day and Holiday Routing（时段和节假日路由）](Time-of-Day-and-Holiday-Routing_6586868.mdx#about)。

**用法**

您可以在 `/conf/vars.xml` 中全局设置 Freeswitch 的时区：

```xml
<X-PRE-PROCESS cmd="set" data="timezone=America/Toronto"/>
```

在拨号计划中指定时区：

```xml
<action application="set" data="timezone=Asia/Seoul"/>
```

```xml
<action application="set" data="timezone=GMT0"/>
```

```xml
<action application="set" data="timezone=America/New_York"/>
```

在用户目录中：

```xml
<param name="timezone" value="America/New_York"/>
```

### tod_tz_offset

**整数 设置此呼叫在 [时间段（Time-of-Day）](Time-of-Day-and-Holiday-Routing_6586868.mdx#about) 条件下使用的 GMT 偏移量。

![(warning)](/images/icons/emoticons/warning.svg) 在比较之前，这个变量必须事先设置好，你可以在行内设置、传递变量或者在用户目录中设置。

**用法**

在 `conf/vars.xml` 中设置全局偏移量：

```xml
<X-PRE-PROCESS cmd="set" data="tod_tz_offset=5"/>
```

```xml
<action application="set" data="tod_tz_offset=5"/>
```

### tone_detect_expires

字符串

### tone_detect_sleep

字符串

### transfer_after_bridge

字符串 这个变量控制着通话挂断后发生的操作。它可以与 [mod\_fifo](../Modules/mod_fifo_3966031.mdx#-add) 一同使用，控制“坐席”返回坐席队列。在 [park\_after\_bridge](Variables-Master-List_16352570.mdx#park_after_bridge) 之后，在 [hangup\_after\_bridge](Variables-Master-List_16352570.mdx#transfer_after_bridge) 之前进行检查。

![(info)](/images/icons/emoticons/information.svg) 在桥接销毁和通道转接到指定拨号计划之后，该变量将被清除。

**用法**

```xml
<action application="set" data="transfer_after_bridge=1000"/>
```

![(info)](/images/icons/emoticons/information.svg) 注意使用 `:` 分隔符

```xml
<action application="set" data="transfer_after_bridge=1000:XML:default"/>
```

### transfer_fallback_extension

字符串 在转接失败时，通道会回退到指定的分机上。在进行转接之前设置该变量。例如，如果转接到了一个无效或者不可用的分机，它将会“回退”到变量中设置的分机上。

### transfer_history

字符串

### transfer_on_fail

字符串 允许在特定原因下（如号码未被配分等）无法联系到被呼叫方时，转接呼叫流程。

![(warning)](/images/icons/emoticons/warning.svg) 您还必须设置[failure_causes](Variables-Master-List_16352570.mdx#failure_causes)

参数语法：`hangupcauses destination dialplan context`

**用法**

```xml
<action application="set" data="failure_causes=UNALLOCATED_NUMBER"/>
<action application="set" data="transfer_on_fail=UNALLOCATED_NUMBER"/>
```

```xml
<action application="set" data="transfer_on_fail=1"/>
```

### transfer_ringback

字符串 这是当呼叫已经应答并转移到其他终端时播放的声音。语法与[ringback](Variables-Master-List_16352570.mdx#transfer_ringback)相同。

**用法**

```xml
<action application="set" data="transfer_ringback=${fr-ring}"/>
```

### transfer_source

字符串

### transfer_to

字符串

### tts_engine

字符串

| 值                        |
| ------------------------ |
| tts\_commandline         |
| flite                    |
| unimrcp:mrcp\_server\_name |

### 另请参阅

* [mod\_tts\_commandline](../Modules/mod_tts_commandline_13172802.mdx#about)
* [mod\_flite](../Modules/mod_flite_3965160.mdx#about)
* [tts\_commandline](../../Channel-Variables-Catalog/tts_commandline_20185159.mdx#see-also)

### tts_voice

字符串

### uduration

整数

### UNIQUEID

字符串

### user_context

字符串

### user_name

字符串

### uuid_bridge_continue_on_cancel

布尔值 当设置为`true`时，如果遇到错误的B-leg，系统将继续执行拨号计划。默认值为`false`，因为这种行为可能不推荐。您可能在实现[Dialplan FollowMe](Dialplan-FollowMe_9634428.mdx#about)时会发现这个变量有用。

**用法**

```xml
<action application="set" data="uuid_bridge_continue_on_cancel=true"/>
```

### verbose_presence

字符串

### verbose_sdp

布尔值RFCs规定了IANA动态负载类型的rtpmap。对于众所周知的静态负载（如PCMU、PCMA、G729等），不需要附带编解码器名称和负载类型的rtpmap。

FreeSWITCH默认设置`verbose_sdp=false`，这样不会为静态负载类型包含rtpmap。如果您的设备不支持此项功能（真丢人），请设置`verbose_sdp=true`，这样将为任何静态负载类型包含rtpmap（之前的默认行为）。

### video_logo_path

字符串

在[mod\_conference页面](../Conference/index.mdx#conference-examples)上查看更多详细信息

### video_mirror_input

布尔值 如果设置为`true`，将输出分辨率镜像与呼叫者的输入分辨率相匹配，适用于呼叫或会议。

### video_possible

字符串

### video_read_codec

字符串

### video_read_rate

字符串

### video_write_codec

字符串

### video_write_rate

字符串

### vm_cc

字符串

### vm_message_ext

字符串 确定语音邮件消息保存的格式。也可以使用参数`vm-message-ext`进行设置。

此变量在拨号计划中设置。

默认可用选项：

* `mp3`
* `wav`

**用法**

```xml
<action application="set" data="vm_message_ext=mp3"/>
```

### vmd_detect

字符串

### vname

字符串

### voicemail_account

字符串

### voicemail_alternate_greet_id

字符串 覆盖语音邮件应用读取的ID，例如说出电话号码而不是用户ID。

**用法**

```xml
<user id="johnsmith" number-alias="1000">
   <variables>
       <variable name="mailbox" value="1000"/>
       <variable name="effective_caller_id_name" value="1000"/>
       <variable name="effective_caller_id_number" value="1000"/>
       <variable name="voicemail_alternate_greet_id" value="1000"/>
   </variables>
</user>
```

### voicemail_authorized

string 授权的语音邮件

### voicemail_caller_id_name

string 语音邮件呼叫者姓名

### voicemail_caller_id_number

string 语音邮件呼叫者号码

### voicemail_current_folder

string 当前语音邮件文件夹

### voicemail_domain

string 设置[mod\_voicemail](../Modules/mod_voicemail_6587070.mdx#--)发送语音邮件时发件人电子邮件地址的域名。

**用法**

从`conf/directory/default/1010.xml`：

```xml
<include>
  <user id="1010" mailbox="1010">
    <params>
      <param name="password" value="password"/>
      <param name="vm-password" value="1010"/>
    </params>
    <variables>
      <variable name="voicemail_domain" value="speakblast.com"/>
    </variables>
  </user>
</include>
```

### voicemail_domain_name

string 语音邮件域名

### voicemail_email

string 语音邮件电子邮件

### voicemail_file_path

string 语音邮件文件路径

### voicemail_greeting_number

string 语音邮件欢迎词号码

### voicemail_greeting_path

string 语音邮件欢迎词路径

### voicemail_id

string 语音邮件ID

### voicemail_message_len

integer 语音邮件消息长度

### voicemail_priority

string 语音邮件优先级

### voicemail_profile_name

string 语音邮件配置文件名称

### voicemail_read_flags

string 语音邮件已读标记

### voicemail_time

string 语音邮件时间

### voicemail_total_new_messages

integer 语音邮件新消息总数

### voicemail_total_saved_messages

integer 语音邮件已保存消息总数

### voicemail_urgent_new_messages

integer 语音邮件紧急新消息数

### voicemail_urgent_saved_messages

integer 语音邮件紧急已保存消息数

### waitmsec

integer 等待毫秒数

### waitsec

integer 等待秒数

### waitusec

integer 等待微秒数

### write_codec

string 只读 输出呼叫腿的协商编解码器。

### write_rate

string 写入速率

### xfer_uuids

string 转接的UUID

### xml_cdr_base

string XML CDR基本路径

### zrtp_enabled **ZRTP现已弃用，并将从文档中删除**

string

这个全局变量由FreeSWITCH核心设置为[switch.conf.xml](../Configuration/Configuring-FreeSWITCH/Switch.conf.xml_9634306.mdx#about)中的全局rtp-enable-zrtp设置的值。更多信息请参见[SIP TLS](../Security/SIP-TLS_9634135.mdx#attachments)页面。
