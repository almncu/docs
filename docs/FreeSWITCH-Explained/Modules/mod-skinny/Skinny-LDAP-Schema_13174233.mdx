# Skinny LDAP模式

## 关于

由[Mathieu Parent](https://freeswitch.org/confluence/display/~sathieu)更新于2011.03.08并归档在这里供他人查阅。

点击此处展开目录

* 1 [skinny.schema](#-skinnyschema-)
* 2 [如何使用](#-skinnyschema-)

## skinny.schema

```xml
##
## Skinny Call Control Protocol (SCCP)的FreeSWITCH属性和对象类定义
##
## 由：Mathieu Parent <math.parent@gmail.com>维护
## 请参见http://wiki.freeswitch.org/wiki/Mod_skinny

# 属性 .1002.1
# =============

# skinny设备属性 .1002.1.1
# -----------------------

attributetype ( 1.3.6.1.4.1.27880.1002.1.1.1 NAME 'skinnyDeviceName'
    DESC 'Skinny Call Control Protocol设备名称'
    EQUALITY caseExactMatch
    SUBSTR caseExactSubstringsMatch
    ORDERING caseExactOrderingMatch
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
    SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.27880.1002.1.1.2 NAME 'skinnyDeviceOwnerUserId'
    DESC 'Skinny Call Control Protocol设备所有者用户ID'
    EQUALITY caseIgnoreMatch
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
    SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.27880.1002.1.1.3 NAME 'skinnyDeviceUserLocale'
    DESC 'Skinny Call Control Protocol设备用户区域设置'
    EQUALITY caseIgnoreMatch
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
    SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.27880.1002.1.1.4 NAME 'skinnyDeviceNetworkLocale'
    DESC 'Skinny Call Control Protocol设备网络区域设置'
    EQUALITY caseIgnoreMatch
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
    SINGLE-VALUE )

attributetype ( 1.3.6.1.4.1.27880.1002.1.1.5 NAME 'skinnyDeviceButtonTemplate'
    DESC 'Skinny Call Control Protocol设备电话按钮模板'
    EQUALITY caseIgnoreMatch
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
    SINGLE-VALUE )

属性类型（1.3.6.1.4.1.27880.1002.1.1.6 名称为'skinnyDeviceSoftkeyTemplate' 描述为'Skinny呼叫控制协议设备软键模板' 相等性为大小写不敏感匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

属性类型（1.3.6.1.4.1.27880.1002.1.1.7 名称为'skinnyDeviceFirmware' 描述为'Skinny呼叫控制协议设备固件' 相等性为大小写不敏感匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

属性类型（1.3.6.1.4.1.27880.1002.1.1.8 名称为'skinnyDeviceType' 描述为'Skinny呼叫控制协议设备类型' 相等性为大小写不敏感匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

＃skinny按钮属性.1002.1.2
＃----------------------------------

属性类型（1.3.6.1.4.1.27880.1002.1.2.1 名称为'skinnyButtonPosition' 描述为'Skinny呼叫控制协议按钮位置' 相等性为整数匹配 排序为整数排序匹配 语法为1.3.6.1.4.1.1466.115.121.1.27 单值属性）

属性类型（1.3.6.1.4.1.27880.1002.1.2.2 名称为'skinnyButtonType' 描述为'Skinny呼叫控制协议按钮类型' 相等性为大小写不敏感匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

属性类型（1.3.6.1.4.1.27880.1002.1.2.3 名称为'skinnyButtonLabel' 描述为'Skinny呼叫控制协议按钮标签' 相等性为完全匹配 子字符串匹配为大小写敏感匹配 排序为完全匹配排序匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

属性类型（1.3.6.1.4.1.27880.1002.1.2.4 名称为'skinnyButtonValue' 描述为'Skinny呼叫控制协议按钮值' 相等性为完全匹配 子字符串匹配为大小写敏感匹配 排序为完全匹配排序匹配 语法为1.3.6.1.4.1.1466.115.121.1.15 单值属性）

＃skinny线按钮属性.1002.1.3
＃---------------------------------------

attributetype (1.3.6.1.4.1.27880.1002.1.3.1 NAME 'skinnyLineCallerName'
        DESC 'Skinny Call Control Protocol line button caller name'
        EQUALITY caseExactMatch
        SUBSTR caseExactSubstringsMatch
        ORDERING caseExactOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
        SINGLE-VALUE)

attributetype (1.3.6.1.4.1.27880.1002.1.3.2 NAME 'skinnyLineForwardAll'
        DESC 'Skinny Call Control Protocol line button forward all'
        EQUALITY caseExactMatch
        SUBSTR caseExactSubstringsMatch
        ORDERING caseExactOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
        SINGLE-VALUE)

attributetype (1.3.6.1.4.1.27880.1002.1.3.3 NAME 'skinnyLineForwardBusy'
        DESC 'Skinny Call Control Protocol line button forward busy'
        EQUALITY caseExactMatch
        SUBSTR caseExactSubstringsMatch
        ORDERING caseExactOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
        SINGLE-VALUE)

attributetype (1.3.6.1.4.1.27880.1002.1.3.4 NAME 'skinnyLineForwardNoAnswer'
        DESC 'Skinny Call Control Protocol line button forward no answer'
        EQUALITY caseExactMatch
        SUBSTR caseExactSubstringsMatch
        ORDERING caseExactOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.15
        SINGLE-VALUE)

attributetype (1.3.6.1.4.1.27880.1002.1.3.5 NAME 'skinnyLineNoAnswerRingDuration'
        DESC 'Skinny Call Control Protocol line button no answer ring duration'
        EQUALITY integerMatch
        ORDERING integerOrderingMatch
        SYNTAX 1.3.6.1.4.1.1466.115.121.1.27
        SINGLE-VALUE)


# Object Classes .1002.2
# ======================

```simplified_chinese
objectclass (1.3.6.1.4.1.27880.1002.2.1 NAME 'skinnyDevice' SUP top AUXILIARY
	DESC 'Skinny呼叫控制协议设备（v1.0）'
	MAY ( skinnyDeviceName $ description $ macAddress $ ipHostNumber $
              skinnyDeviceOwnerUserId $ skinnyDeviceUserLocale $ skinnyDeviceNetworkLocale $
              skinnyDeviceButtonTemplate $ skinnyDeviceSoftkeyTemplate $ skinnyDeviceFirmware $
              skinnyDeviceType))

objectclass (1.3.6.1.4.1.27880.1002.2.2 NAME 'skinnyButton' SUP top STRUCTURAL
	DESC 'Skinny呼叫控制协议按钮（v1.0）'
	MUST ( skinnyButtonPosition $ skinnyButtonType $ skinnyButtonLabel )
	MAY ( skinnyButtonValue ))

objectclass (1.3.6.1.4.1.27880.1002.2.3 NAME 'skinnyLineButton' SUP skinnyButton
	DESC 'Skinny呼叫控制协议线路按钮（v1.0）'
	MUST ( skinnyButtonValue )
	MAY ( skinnyLineCallerName ))

objectclass (1.3.6.1.4.1.27880.1002.2.4 NAME 'skinnySharedLine' SUP top STRUCTURAL
	DESC 'Skinny呼叫控制协议共享线路按钮（v1.0）'
	MUST ( skinnyButtonValue )
	MAY ( skinnyLineForwardAll $ skinnyLineForwardBusy $
              skinnyLineForwardNoAnswer $ skinnyLineNoAnswerRingDuration ))
```

## 如何使用

有一些缺失的部分，请参阅（已弃用）（管理和管理）。

检索数据：

- 搜索具有skinnyDeviceName=SEP001120AABBCC或macAddress = 00:11:20:AA:BB:CC的objectClass = skinnyDevice  
  - 使用设备对象属性中的一些填充&lt;params>的一些字段
- 在设备内搜索objectClass = skinnyButton（子类），并循环  
  - 如果按钮是一条线：搜索objectClass = skinnySharedLine，以查找可能的共享属性  
  - 否则，所有信息在这里

注意：可能会有一些特殊设备没有skinnyDeviceName或macAddress；它们代表着设备的默认值（如果设置了skinnyDeviceType，则是按类型设置）。

这个（已过时）的例子使用了[GOsa](http://gosa-project.org/)：

```xml
版本：1

dn: cn=tel-parentm,ou=phones,ou=systems,dc=example,dc=net
objectClass: top
objectClass: goFonHardware
objectClass: skinnyDevice
cn: tel-parentm
ipHostNumber: 10.128.10.11
macAddress: 00:11:20:AA:BB:CC
goFonDefaultIP: dynamic
goFonDmtfMode: rfc2833
goFonType: user

dn: skinnyButtonPosition=1,cn=tel-parentm,ou=phones,ou=systems,dc=example,dc
 =net
objectClass: skinnyLineButton
objectClass: skinnyButton
objectClass: top
skinnyButtonLabel: Line 1
skinnyButtonPosition: 1
skinnyButtonType: Line
skinnyButtonValue: 7628
skinnyLineCallerName: 作为7628呼叫

dn: skinnyButtonPosition=3,cn=tel-parentm,ou=phones,ou=systems,dc=example,dc
 =net
objectClass: skinnyLineButton
objectClass: skinnyButton
objectClass: top
skinnyButtonLabel: Line 3
skinnyButtonPosition: 3
skinnyButtonType: Line
skinnyButtonValue: 7610
skinnyLineCallerName: 作为7610呼叫

dn: skinnyButtonPosition=5,cn=tel-parentm,ou=phones,ou=systems,dc=example,dc
 =net
objectClass: skinnyButton
objectClass: top
skinnyButtonLabel: Test
skinnyButtonPosition: 5
skinnyButtonType: SpeedDial
skinnyButtonValue: 7626

dn: skinnyButtonPosition=6,cn=tel-parentm,ou=phones,ou=systems,dc=example,dc
 =net
objectClass: skinnyButton
objectClass: top
skinnyButtonLabel: Some URL
skinnyButtonPosition: 6
skinnyButtonType: ServiceUrl
skinnyButtonValue: http://phone-xml.berbee.com/menu.xml
```