# Call Camping

## 关于

呼叫露营（Call Camping），也称为露营等待，允许在桥接目标被占用时设置呼入电话等待。

单击此处展开目录

- 1 [变量](#变量)
   - 1.1 [campon](#campon)
   - 1.2 [campon_announce_sound](#campon_announce_sound)
   - 1.3 [campon_fallback_context](#campon_fallback_context)
   - 1.4 [campon_fallback_exten](#campon_fallback_exten)
   - 1.5 [campon_hold_music](#campon_hold_music)
   - 1.6 [campon_retries](#campon_retries)
   - 1.7 [campon_sleep](#campon_sleep)
   - 1.8 [campon_stop_key](#campon_stop_key)
   - 1.9 [campon_timeout](#campon_timeout)
- 2 [示例](#示例)

## 变量

该行为由一系列需要在调用“bridge”应用程序之前设置的通道变量来控制：

### campon

布尔类型，用于控制是否启用露营。

默认值：`false`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_announce_sound

字符串，用于在第一次桥接失败后播放的文件（例如，用于宣布按下哪个键跳到回退分机）。

默认值：`none`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_stop_key=1"/>
<action application="set" data="campon_announce_sound=press_one_to_stop.wav"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_fallback_context

字符串，可选的上下文名称，在回退时将呼叫转移至此。

### campon_fallback_exten

字符串，回退时呼叫转移的分机号码。

### campon_hold_music

string 可选参数，用于在露营期间播放替代的默认露营音乐 [hold_music](../../../Dialplan/Variables-Master-List_16352570.mdx#hold_music)。

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_hold_music=/data/campmusic/RelaxingCampSounds.wav"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_retries

整数 控制在回退之前尝试桥接的次数。

默认值：`100`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_retries=13"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_sleep

整数 控制开始尝试回退之前等待的时间。

默认值：`10`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_sleep=30"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_stop_key

dtmf数字 DTMF数字，用于打破campon循环并直接跳转到回退分机。

默认值：`none`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_stop_key=1"/>
<action application="set" data="campon_announce_sound=press_one_to_stop.wav"/>
<action application="set" data="campon_fallback_exten=1000"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

### campon_timeout

整数 此变量控制在计时超时之前尝试每个桥接的时间。它的工作方式与 [call_timeout](../../../Dialplan/Variables-Master-List_16352570.mdx#leg_timeout) 完全相同，但仅适用于露营。

默认值：`10`

**用法**

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_timeout=20"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```

## 示例

```xml
<action application="set" data="campon=true"/>
<action application="set" data="campon_stop_key=1"/>
<action application="set" data="campon_announce_sound=press_one_to_stop.wav"/>
<action application="set" data="campon_fallback_exten=1000"/>
<action application="bridge" data="sofia/gateway/myprovider/5551231234"/>
```