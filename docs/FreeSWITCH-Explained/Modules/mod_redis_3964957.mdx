# mod_redis 

 

* [安装和配置](#安装和配置)
* [使用方法](#使用方法)
* [参考资料](#参考资料)

## 关于

mod_redis 是一个基于 Redis 的呼叫限制后端。

**注意：**该后端不支持基于速率的限制。

## 安装和配置

下载 [Redis](http://code.google.com/p/redis/downloads/list) 并按照说明进行安装。（目前该文档编写时，Redis 2.0仍处于RC版本，所以我使用的是1.2）

```xml
tar zxvf redis-1.2.6.tar.gz
cd redis-1.2.6
make
```

在 `make` 之后，打开第二个窗口，然后运行 `redis-server` 脚本。回到 Redis 源代码目录，运行：

```xml
make test
```

这将测试你的 Redis 系统。

在 FreeSWITCH 源代码目录中，确保 `mod_redis` 在 `modules.conf` 中已启用，然后进行构建：

```xml
make mod_redis-install
```

将 `redis.conf.xml` 文件复制到 `conf/autoload_configs/` 目录下，然后加载：

```xml
reloadxml
load mod_redis
```

将 `mod_redis` 添加到 `conf/autoload_configs/modules.conf.xml` 中，以便在 FreeSWITCH 启动时自动加载它。

## 使用方法

Redis 的使用方式与其他限制后端类似：

```xml
<action application="limit" data="redis realm id 10 limit_exceeded" />
```

## 参考资料

* [Limit](./mod-dptools/3375201.mdx#db)