# 会话

查看[Mod\_lua](../../../Modules/mod_lua_1048944.mdx#--)页面，获取会话方法的完整列表。该页面目前仅列出了适用于Javascript模块的部分方法。

单击此处展开目录

* 1 [构造函数](#constructor)
* 2 [方法](#methods)
* 3 [属性](#properties)

会话对象提供了一些方法，用于与通道进行交互。下面按字母顺序列出了会话对象的不同部分。

对于使用Javascript编写的应用程序，请注意：虽然JavaScript应用程序在检测到挂断后会继续执行，但会话对象将不再存在，任何试图访问它的尝试都会导致JavaScript终止。保存您可能需要用于挂断后处理的任何变量，并使用本地变量代替。

## 构造函数

您可以使用以下代码创建一个新会话：

```xml
s = new Session();
```

创建一个空的会话对象，提供了一些方法，使您能够与通道进行交互。

```xml
s = new Session(uuid);
```

从现有的uuid创建一个会话对象。这样可以让您与现有通道进行交互。

要创建一个新会话并自动外呼，在通话被接听后才继续进行（忽略早期媒体信息），请尝试以下代码（Javascript）：

```xml
s = new Session("{ignore_early_media=true}sofia/default/foo@bar.com");
while (s.ready()) {
 // 通话已接听
}
```

其他选项，如[Mod\_commands#originate](../../../Modules/mod_commands_1966741.mdx#originate)中所示，也可以使用：

```xml
s = new Session("{ignore_early_media=true,origination_caller_id_name=Jack}sofia/default/foo@bar.com");
while (s.ready()) {
 // 通话已接听
}
```

**您无需创建默认会话。'session'会自动为当前会话创建。**

## 方法

* session.answered
* [session.answer](Session-answer_13173927.mdx#about)
* [session.collectInput](Session-collectInput_13173960.mdx#about)
* [session.destroy](Session-destroy_13174179.mdx#--)
* [session.execute](../JavaScript-API-Reference/Session-Execute_13173606.mdx)
* [session.flushDigits](Session-flushDigits_13173976.mdx#--)
* session.flushEvents
* [session.generateXmlCdr](Session_generateXmlCdr_13174093.mdx#about)
* [session.getDigits](Session-getDigits_13173983.mdx#example)
* session.getEvent
* [session.getVariable](../Javascript-Examples/Session-getVariable_13174000.mdx#example)
* [session.hangup](Session-hangup_13174020.mdx#about)
* session.mediaReady
* [session.originate](Session-originate_13174215.mdx#usage)
* [session.preAnswer](Session-preAnswer_13174109.mdx#about)
* [session.ready](Session-ready_13174072.mdx#--)
* [session.recordFile](Session-recordFile_13174110.mdx#about)
* [session.sayPhrase](Session-sayPhrase_13174126.mdx#about)
* session.sendEvent
* [session.setAutoHangup](Session_setAutoHangup_13174123.mdx#about)
* [session.setHangupHook](Session-setHangupHook_13174144.mdx#about)
* [session.setVariable](Session-setVariable_13174153.mdx#about)
* session.sleep
* [session.speak](Session-speak_13174162.mdx#about)
* [session.streamFile](./Session-streamFile_13174182.mdx#about)
* [session.waitForAnswer](Session-waitForAnswer_13174132.mdx#see-also)
* session.waitForMedia

## 属性

* [session.ani](index.mdx#methods)
* [session.ani2](index.mdx#methods)
* [session.caller\_id\_name](Session-caller-id-name_13173934.mdx#about)
* [session.caller\_id\_num](Session-caller-id-num_13173943.mdx#about)
* [session.destination](Session-destination_13173955.mdx#about)
* [session.dialplan](Session-dialplan_13173975.mdx#about)
* [session.name](index.mdx#methods)
* [session.network\_addr](Session-network-addr_13174038.mdx#-freeswitch--session-network-addr-)
* [session.state](./Session-state_13174137.mdx#about)
* [session.uuid](./Session-uuid_75301156.mdx#about)
* [session.cause](Session-cause_13174108.mdx#about)
* [session.causecode](Session-causecode_13174117.mdx#about)