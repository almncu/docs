# JavaScript示例 - XML

## 关于

一个关于JavaScript XML在FreeSWITCH中的示例列表。

点击这里展开目录

* 1 [示例](#examples)

## 示例

新的V8模块依赖于FS内置的XML支持，因为Google V8没有像Spidermonkey一样内置这个功能。

```js
var xmldata = new XML("<mydata><item>this is my data</item><item>this is also my data</item></mydata>");
for each (item in xmldata.item) {
    console_log("ITEM: " + item + "\n");
} 
```

**JS XML示例**

```js
// 告诉JS我们要加载XML类的功能。
use('XML');

// 加载并解析一个XML字符串。
var xml = new XML('<xml><test>TestData</test><test>TestData 2<test2>test</test2></test></xml>');

// 获取第一个名为'test'的子节点
var child = xml.getChild('test');

if (child) {
    consoleLog('info', 'XML子节点名称: ' + child.name + ', 数据: ' + child.data);
}

// 获取同级别的下一个同名子节点
var nextChild = child.next();

if (nextChild) {
    consoleLog('info', 'XML子节点名称: ' + nextChild.name + ', 数据: ' + nextChild.data);
}

// 创建一个新的子节点
var newChild = xml.addChild('NewTest');

// 设置一些数据
newChild.data = 'new data';

// 设置一个属性
newChild.setAttribute('firstattr', 'myvalue');

// 打印属性
consoleLog('info', 'XML newChild的属性 firstattr: ' + newChild.getAttribute('firstattr'));

// 移除第一个子节点'test'
child.remove();

// 记录整个XML
consoleLog('info', '完整的XML ::\n' + xml.serialize());
```