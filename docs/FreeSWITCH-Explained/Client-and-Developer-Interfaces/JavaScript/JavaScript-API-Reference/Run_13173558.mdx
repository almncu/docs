# 运行

点击此处展开目录

* 1 [描述](#描述)
* 2 [概述](#概述)
* 3 [示例](#示例)
* 4 [另请参阅](#另请参阅)

## 描述

执行 CURL 操作（例如 GET，POST）。

## 概述

```xml
run(method, url, request_data, callback, callback_arg, credentials, timeout, content-type)
```

* method - 任何受支持的 CURL 方法（例如 GET，POST）
* url - 任何受支持的 CURL URL
* request\_data - URL 编码的请求数据
* callback - 用户回调函数
* callback\_arg - 传递给用户回调的参数
* credentials - 以 用户:密码 格式供 CURL 使用
* timeout - CURL 超时时间（秒）
* content-type - HTTP 头部 content-type

## 示例

注意：只有当目标 URL 返回非空字符串时，回调函数才会触发。

```xml
use("CURL");

function my_callback(string, arg)
{
  console_log("info", string);
  return true;
}

if (session.ready()) {
  session.answer();

  var curl = new CURL();

  curl.run("POST", "http://www.freeswitch.org/curltest/", "foo=bar&this=has+spaces+in+it", my_callback, "my arg\n", "user:s3cr3tpw");

  session.hangup();
}
```

## 另请参阅

* [Javascript](../index.mdx#api)