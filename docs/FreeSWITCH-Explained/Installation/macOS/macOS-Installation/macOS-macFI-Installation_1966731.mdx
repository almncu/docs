# macOS macFI 安装

## 关于

本页面介绍了使用 macOS FreeSWITCH™ Installer（macFI）进行自动安装的方法。它是 FreeSWITCH™ [macOS](../index.mdx#about) 文档的一部分。

* 1 [macFI 可以做什么？](#what-can-the-macos-freeswitch-installer-macfi-do)
* 2 [为什么要使用 macOS FreeSWITCH™ Installer？](#why-use-the-macos-freeswitch-installer)
* 3 [进行了哪些步骤？](#what-steps-are-performed)
* 4 [日志记录](#-freeswitch--macos-macfi-installation-)
* 5 [备份](#-freeswitch--macos-macfi-installation-)
* 6 [设置终端应用程序的屏幕尺寸](#set-terminal-application-screen-size)
* 7 [下载 macOS FreeSWITCH™ Installer](#download-the-macos-freeswitch-installer)
* 8 [运行 macOS FreeSWITCH™ Installer](#running-the-macos-freeswitch-installer)  
   * 8.1 [一次性安全准备](#one-time-security-preparation)  
   * 8.2 [开始安装 FreeSWITCH](#start-freeswitch-installation)
* 9 [下一步该去哪里](#where-to-go-next)
* 10 [macFI 更新历史](#macfi-change-history)

### macFI 可以做什么？

* 在 macOS 12 Monterey 和 11 Big Sur 上安装最新的公共版本或 master/development 源的 FreeSWITCH™。
* 启动 FreeSWITCH™ 进行测试。
* 更新先决条件和 FreeSWITCH™。
* 移除安装的部分或全部内容。
* 显示和隐藏 macOS 中的隐藏文件。
* 打开维基页面。

### 为什么要使用 macOS FreeSWITCH™ Installer？

使用 macFI 有许多优势，如下所示。其中主要优势包括：

* 它消除了使用终端命令的需求，并引导用户完成整个过程。
* 它确定之前的步骤是否已经完成，并仅执行所需的操作。
* 它创建一个包含日志文件的文件夹，以便轻松检查问题。
* 在初始安装、更新和测试过程中，它节省了**很多**时间。实际上，这个维基需要大量的测试来更新，我开发这个工具是为了只需点击几次然后离开！

### 执行的步骤有哪些？

安装程序执行与[手动安装](./macOS-Manual-Installation_13174557.mdx#about)描述的步骤**完全相同**。在使用 macFI 查看 macFI 将执行的大部分命令之前，您可以查阅手动说明。

以下是执行的函数序列：

1. 确定是否可以在 macOS 版本上运行。
2. 定位并确定最新的 FreeSWITCH™ 源代码版本。
3. 询问所需的功能，是安装、测试还是卸载。
4. 对于安装，确定要下载的版本。
5. 检查命令行工具是否存在。
6. 检查隐藏文件是否可见。
7. 检查所需的目录是否存在。
8. 检查安装目录的所有权是否正确。
9. 检查 Homebrew 是否已安装。
10. 检查由 Homebrew 提供的先决条件是否存在。
11. 检查先前的 FreeSWITCH™ 源代码和运行库是否存在。
12. **生成待执行的操作列表，并请求验证后继续执行**。
13. 如有需要，显示隐藏文件。
14. 如有需要，创建所需的目录。
15. 如有需要，更改安装目录的所有权。
16. 如有需要，下载并安装 Homebrew。
17. 如有需要，更新由 Homebrew 提供的先决条件。
18. 如有需要，下载并安装由 Homebrew 提供的先决条件。
19. 如有需要，重命名以前的 FreeSWITCH™ 源代码和运行库以防止更改。
20. 执行 FreeSWITCH™ 的 git clone 操作。
21. 执行 bootstrap 和 configure 操作。
22. 将 FLITE 添加到 modules.conf 文件。
23. 执行 make、make install、make install sounds 和 make clean 操作。
24. 提示进行测试选择。
25. 如果正在进行测试，打开 FreeSWITCH™ 信息的网页，并显示用于电话配置的 IP 地址和端口。
26. 如果正在进行测试，启动 FreeSWITCH™ 进行测试。

### 日志记录

还不确定是否使用 macFI？额外的好处是：大多数终端命令的输出结果分隔并放置在桌面上创建的带有日期和时间戳的文件夹中。以下每个命令都会被记录：

* 安装或更新Homebrew
* 安装和/或更新先决条件
* 下载并安装FreeSWITCH™源代码
* bootstrap命令
* configure命令
* make命令
* make install命令
* make install sounds命令
* make clean命令

---

### 备份

此过程安装的所有软件都可以轻松删除。然而，要恢复到未更改任何东西的状态，需要进行备份。

### 设置终端应用屏幕大小

在安装过程中，macFI广泛使用macOS终端应用程序。默认的屏幕大小非常小，因此建议增大屏幕大小以提高可读性，方法如下：

1. 双击“应用程序”->“实用工具”文件夹中的“终端应用程序”来启动终端应用程序。然后打开其偏好设置面板。
2. 在“设置”->“配置文件”->“窗口”中将窗口大小更改为较大的值，例如140x48，以减少经常调整窗口大小的情况。

如果您计划经常从终端命令行启动FreeSWITCH™，则应将终端应用程序放置在[Dock](http://support.apple.com/kb/HT2474)中以便快速访问。

### 下载macOS FreeSWITCH™安装程序

安装非常简单，只需按照以下单个步骤操作：

1. 单击此链接：[macOS FreeSWITCH™安装程序](/attachments/1966731/11305027.zip)，macOS将自动下载并解压文件。

  
---

### 运行macOS FreeSWITCH™安装程序

macFI现在以AppleScript源码脚本形式分发，以避免对已下载应用程序进行签名或公证。双击macFI将启动“脚本编辑器”实用程序。只需点击运行图标（右三角形）即可启动macFI。

#### 一次性安全准备

必须先启动macFI以设置macOS的安全设置。首次启动macFI后：

### macFI 安装指南

1\. 打开“系统偏好设置” -> “安全性与隐私” -> “隐私”设置。

2\. 在左下角的锁上进行解锁设置。

3\. 选择“辅助功能”，并选中“脚本编辑器”。

#### 开始安装 FreeSWITCH

双击 macFI，并按照提示操作。它会要求输入密码以允许安装 Homebrew 并重命名目录。

_**在安装程序运行期间，请不要执行其他操作**_，否则可能会损坏终端窗口和日志记录。  
安装程序在停止或失败后可以随时重新运行，它将确定已经安装的内容。

---

### 下一步操作指南

有关启动和停止 FreeSWITCH™ 的详细指南，请参阅[macOS 测试和诊断](../macOS-Testing-and-Diagnostics_13174550.mdx#about)。

---

### macFI 更新历史

2022年5月25日 使用 ffmpeg@4 替换 ffmpeg，使用 Homebrew/freeswitch 获取提前准备的依赖。  
2020年8月7日 添加 Sofia 和 Spandsp 的先决条件。支持 Big Sur。其他小改动。  
2020年6月20日 Homebrew 安装命令已更改。用 bash 安装替代 ruby 安装 homebrew。  
2020年3月20日 临时添加 CFLAGS="-Wno-unused-function"。请参见问题 [#176](https://github.com/signalwire/freeswitch/issues/176) 和 [#518](https://github.com/signalwire/freeswitch/issues/518)。

2019年10月5日，将主分支的下载位置从[freeswitch.org](http://freeswitch.org)更改为GitHub。  
2019年8月20日更改“stable”和转码消息，从curl文件下载中删除-s选项。  
2019年8月6日用grep替换下载的sed命令，处理FS 1.10的文件名更改。  
2019年7月27日添加了视频的ffmpeg和yasm先决条件。添加了排除视频转码和录制的选项。  
2019年7月22日添加libpq先决条件。  
2019年2月26日增加了安装计时器。将下载文件从.gz更改为.bz2。微小的消息更改。  
2018年12月27日添加了新的libks和signalwire-c先决条件。更改了flite的公式名称。  
2018年9月30日更换了Terminal清屏逻辑，由于Mohave安全问题。更新最低macOS版本支持。  
2017年12月10日删除了Xcode，现在使用homebrew安装命令行工具。将删除Xcode选项更改为删除CLT。  
2017年7月13日主要更新：FS版本更改不需要更新，自动查找最新的公开版本，将VRM放置在消息中，添加稳定分支下载，添加不支持的消息。  
2017年6月24日更改了10.13的/usr/local逻辑和兼容性，添加了显示/隐藏隐藏文件、重新制作介绍对话框和维基选项的功能，添加了更新函数。  
2017年3月24日添加了spandsp的libtiff先决条件。  
2017年1月4日添加了speexdsp的先决条件。  
2016年9月17日更新了Xcode的URL。  
2016年9月15日更名为新的Homebrew，更改路径，使用当前的Xcode版本，10.11从开发网站上获取Xcode 7。  
2016年7月17日添加了仅测试选项，10.10从开发网站上获取Xcode 7，如果找到了Xcode的测试版本，允许绕过打开测试呼叫维基界面的选项。微小的修复。  
2016年2月26日删除了libvpx和libyuv，用yasm替换了nasm，更改了删除brew缓存的命令。  
2015年11月26日用Homebrew替换了非Homebrew软件包，因为它们已经可用。  
2015年10月22日列出了先决条件的名称。其他微小的修复。  
2015年10月16日添加了FreeSWITCH™1.6，删除了1.4版本，更新了先决条件，添加了非Homebrew软件包的安装。  
2015年10月3日添加了对/usr/local的所有权更改逻辑，更改了10.9的Xcode 6下载，删除了对10.8和Xcode 5的支持。  
2014年11月5日添加了Xcode 6.1和Yosemite的支持。2014年11月22日更改了URL。  
2014年4月5日首次发布到维基。

### 附件：

![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/2162700.zip) (application/zip)  
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/2162732.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/3178502.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/4227083.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/9634645.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/7045129.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/7045130.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634389.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634681.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.app.zip](/attachments/1966731/2162699.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634704.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634707.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634744.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/9634996.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/10682503.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/10683344.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [OS X FreeSWITCH Installer.zip](/attachments/1966731/7045127.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/11305028.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/13173814.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/13174711.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/15139308.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/15139962.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/16351692.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/16351693.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/19595563.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.app.zip](/attachments/1966731/19202134.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/20709453.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/20709456.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/25460793.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/25460826.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/25460911.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/27590811.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/32178912.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/39420367.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/41943181.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/72253561.zip) (application/zip)
![](/images/icons/bullet_blue.gif) [macOS FreeSWITCH Installer.zip](/attachments/1966731/11305027.zip) (application/zip)

# Markdown简介

Markdown是一种轻量级的标记语言，设计初衷是用于简化HTML的编写。它使用简单的标记语法，使普通文本具有一定的格式和结构。Markdown可以被转换成HTML等其他格式，并且非常适合用于编写博客、文档和其他类型的写作。

## 常用的Markdown语法

### 标题

Markdown提供了六种级别的标题，可以通过添加不同数量的井号来表示不同级别的标题。

```markdown
# 一级标题
## 二级标题
### 三级标题
#### 四级标题
##### 五级标题
###### 六级标题
```

### 列表

Markdown支持有序列表和无序列表。

有序列表使用数字加点的形式表示：

```markdown
1. 第一项
2. 第二项
3. 第三项
```

无序列表使用减号、加号或星号表示：

```markdown
- 第一项
- 第二项
- 第三项
```

### 链接和图片

使用方括号和圆括号可以创建链接和插入图片。

创建链接的语法格式是：`[链接文本](链接地址)`。

插入图片的语法格式是：`![图片描述](图片链接)`。

### 引用

可以使用大于号来表示引用内容。

```markdown
> 这是引用的内容。
```

### 代码块

可以使用反引号来标记行内代码，也可以使用三个反引号来标记代码块。

行内代码示例：`这是行内代码`。

代码块示例：
```markdown
​```
这是一个代码块
​```
```

以上是Markdown的基本语法，希望对你有帮助！