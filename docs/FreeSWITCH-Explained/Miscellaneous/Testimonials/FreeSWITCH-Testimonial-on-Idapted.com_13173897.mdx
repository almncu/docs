# Idapted.com上的FreeSWITCH测试

## 关于

FreeSWITCH如何创造了数百个工作机会并改变了生活。

点击此处展开目录

* 1 [推荐](#-freeswitch--freeswitch-testimonial-on-idaptedcom-)  
   * 1.1 [社区](#-freeswitch--freeswitch-testimonial-on-idaptedcom-)
* 2 [参见：](#-freeswitch--freeswitch-testimonial-on-idaptedcom-)

### 推荐

我们希望与大家分享我们与FreeSWITCH合作的经验。FreeSWITCH是我们业务的重要推动力。我们希望这个故事可以是向大家说一声非常感谢的一个小小的方式。

“改变生活”是一个被过度使用的陈词滥调，但在这种情况下，FreeSWITCH确实让我们做到了这一点。

我们的工作：我们不是一个电话业务，我们是一家教育技术和服务企业。在亚洲（包括我们在中国的情况），学生必须通过英语考试才能出国留学或工作，并获得新的经验。然而，与英语母语人士接触的机会有限，而且学生能够获得的机会通常非常昂贵。与此同时，在美国，有许多专业人士正在寻找在家工作的机会，这些人需要工作，同时也能成为优秀的教师。通过我们的技术和内容，我们赋予这些人成为有效的英语教师的能力。这奏效了吗？是的。我们的大多数学生都获得了多年来一直没有通过的考试成绩。就在几个小时前，一名学生给我们的销售代理打电话，流着泪说出了幸福。对于我们的教师们来说，他们现在在一个过去对居住在美国的人来说是不可及的行业工作。[http://www.idapted.com](http://www.idapted.com/)

为什么我们选择FreeSWITCH：FreeSWITCH一直是我们业务的关键因素。录音、路由控制、与各种基于网络的接口集成、启用多个终端，这些都是我们必须要做到的关键特性。最重要的是，搭建不同的服务器和路由，以解决跨太平洋和特定国家网络挑战的问题是至关重要的。如果使用商业解决方案，我们所做的事情将变得不可行。

我们对FreeSWITCH的经验：在与其他开源解决方案取得不令人满意的结果后，我们于2008年4月开始使用FreeSWITCH作为我们的VoIP平台。通过阅读FreeSWITCH源代码的一天时间，我们就知道，“这就是我们建立业务的VoIP平台”。在与备受推崇和专注的社区合作几天后，我们进一步确认了这一决定。

我们的设置：我们的老师使用一个集成了VoIP客户端的自定义软件与我们的基于网络的平台进行整合。学生们可以根据需求连接我们的老师。简单来说，在基于网络的组建接口上，学生输入一个电话号码（或者Skype名称或Google Talk帐号），我们的平台会连接最合适的导师和学生。同时，一个基于网络的接口也会被更新。

我们面临的挑战是老师和学生之间的跨洲网络连接。例如，今年早些时候我们遇到了亚太通信光缆断裂的问题...因此，我们学会了在多个数据中心设置多个服务器以实现冗余。

我们运行多个FreeSWITCH实例，这样我们就可以始终使用最先进的版本并减轻错误的影响。一个主要的“稳定”FreeSWITCH (FS) 实例连接到其他的FreeSWITCHes - Fs-skype只加载mod\_skypiax，FS-gtalk只加载mod\_dingaling。这是FreeSWITCH的一个亮点：我们只需要创建不同的配置目录（/usr/local/freeswitch，/usr/local/skype，/usr/local/gtalk等）。这让我们能够在不同的配置上运行相同的代码库，并像普通的PSTN网关一样调用skype和gtalk账户（sofia/gateway/pstn/....或sofia/gateway/skype/....或sofia/gateway/gtalk/....）。更重要的是，如果一个FS（比如FS-skype）行为异常或崩溃，我们可以轻松切换到另一个FS-skype服务器（我们在中国和香港的不同地方运行其他服务器以实现冗余）。

```xml
FS --|
     |---PSTN网关
     |--- FS-skype
     |--- FS-gtalk
     |--- FS-skype2
     |---更多...
 
```

#### 社区

社区的贡献是无法低估的。FreeSWITCH具有深思熟虑的模块化设计，任何人都可以根据自己的技能做出贡献。它还允许我们轻松修改底层代码以适应我们自己的特定用例。我们想要强调一些FS生态系统中的重要人物和模块。

mod_sofia: SIP是我们连接到PSTN网关和教师客户端的方式。PSTN对用户来说是零配置的，并可以减少用户网络/麦克风等方面的问题（这对我们的用户群体来说非常重要）。然而，廉价的服务提供商会随机出现故障，而FreeSWITCH可以控制路由、使用多个终端，并清楚地显示所发生的情况。最重要的是，anthm和核心团队在帮助我们使SIP正常工作方面非常有帮助。在1.0版本之前，anthm对mod-sofia做出了重大改变，以便使位于NAT后面的客户端能够正常运行，而无需使用STUN。值得指出的是，他并不仅仅是做出了这些改变 - 他迫使我们真正提出了为什么这些改变对FreeSWITCH非常重要的充分理由。这是一件好事。

skype (mod_skypiax): 由于用户更喜欢skype，我们配置了skypiax。刚开始时它不太稳定，这也是我们开始运行分离的FS实例的原因之一。公平地说，它也带来了很多麻烦 - 但我们知道这一点，这是一款新软件，它采用了一个很大的风险，并实现了一个复杂的黑客技术。重要的是，skypiax的作者（Giovanni Maruzzelli）非常乐于助人。他积极修复错误，并登录到我们的服务器进行故障排除。我们非常感谢他。

为了让Skypiax更加实用，我们还创建了一些补丁，包括用于顺序和轮询线路搜索的ANY和RR接口，一些错误修复以及其他功能，如continue-load-on-fail和auto-skype-user。这些功能尚未合并到主干版本。感谢社区给了我们一个平台，我们可以从中获得优势并做出贡献。

erlang (mod_erlang_events): 下一个版本系统的另一个关键功能是 erlang 接口。我们拥有一个复杂的实时队列路由系统，它不仅可以处理来自 FreeSWITCH 的输入，还可以处理来自许多其他 web 接口和 socket 的输入。Erlang 是实现这一功能的完美技术，而且幸运的是，已经有了一个针对 FreeSWITCH 的 Erlang 模块。太棒了。

mod_conference 和 mod_fifo: 在我们的办公环境中，我们还将 FreeSWITCH 用作呼叫中心和客户服务的 PBX，与 VoIP 和 PSTN（openzap）网关连接。它与我们的 CRM 系统进行了自然集成，使销售流程、业务逻辑和全球会议变得更加简单和便捷。

寓意: FreeSWITCH 是一款极好的软件，为新技术和商业模式创造了条件。其设计允许（并且核心团队一直培育）一个充满活力和激动人心的社区，使软件变得更好。每天我们都怀着激情去工作，不断挖掘电话技术的可能性，并且相信这是未来的平台。

感谢大家。

诚挚致意，

杜金方（Seven Du） - 技术运营/ VoIP 经理

Jonathan Palley - CTO

Idapted Ltd.

### 参见：

* [推荐语](./index.mdx#sbc)
* 了解[中文版本](http://www.dujinfang.com/2010/02/04/idaptedde-freeswitchshi-jian.html)。