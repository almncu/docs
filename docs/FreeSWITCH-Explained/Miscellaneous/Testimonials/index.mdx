# 客户反馈

## 关于

这里是用户实施各种类型的FreeSWITCH™实例的报告。也许你可以从中学到如何使用FreeSWITCH™的新主意。

点击展开目录

* 1 [高容量切换](#high-capacity-switching)
* 2 [灵活性](#flexibility)
* 3 [医疗](#medical)
* 4 [SBC](#sbc)
* 5 [办公室PBX](#office-pbx)
* 6 [服务提供商使用FreeSWITCH](#freeswitch-for-a-service-provider)
* 7 [使用FreeSWITCH做得好的](#good-job-using-freeswitch)
* 8 [多个FreeSWITCH（SIP / Skype / GTalk）Idapted.com上的见证](#multi-freeswitch-sipskypegtalk-testimonial-on-idaptedcomhttpidaptedcom)
   * 8.1 [FreeSWITCH如何创造了数百个就业机会并改变了生活。](#how-freeswitch-has-created-hundreds-of-job-opportunities-and-changed-lives)
      * 8.1.1 [我们的工作内容](#what-we-do)
         * 8.1.2 [为何FreeSWITCH能够实现这一切](#why-freeswitch-enables-this)
         * 8.1.3 [我们使用FreeSWITCH的经验](#our-experiences-with-freeswitch)
         * 8.1.4 [我们的设定](#our-setup)
   * 8.2 [社区](#community)
   * 8.3 [故事的寓意](#the-moral-of-the-story)


## 高容量切换

FreeSWITCH真棒！我们用一个FreeSWITCH实例取代了10台Asterisk机器。当然，我们还利用剩余的硬件创建了一个小集群以实现冗余。

我们正在使用FS处理大约300个同时的SIP呼叫（即600个通话），并在双处理器的Xeon 3.2 GHz机器上进行媒体处理。CPU利用率大约为10%（主要是由于网络I/O）。工作得非常好。安装简单，配置直观。强烈推荐。

## 灵活性

我只是把FreeSWITCH当作一个“虚拟”PBX来使用。多亏了FS的灵活设计，我才能这样做。

我不使用默认的XML拨号计划。相反，在每次有新呼叫通过[mod_xml_curl](https://wiki.freeswitch.org/wiki/Mod%5Fxml%5Fcurl "Mod xml curl")接口时，我提供一个自定义的拨号计划（只包含一个条目）。这样可以让我动态地更改每个分机的位置。

我也不使用默认的XML用户目录，每个用户都从我的自有服务器上获取（通过[mod_xml_curl](https://wiki.freeswitch.org/wiki/Mod%5Fxml%5Fcurl "Mod xml curl")）。每次用户注册时都会获取一次。

最后，我使用事件套接字（[mod_event_socket](https://wiki.freeswitch.org/wiki/Mod%5Fevent%5Fsocket "Mod event socket"）来监控所有分机（BLF）。

## 医疗

我们在独立呼叫医护人员的情况下使用FreeSWITCH，依赖它进行医疗用途。

## SBC

我们成功地使用OpenSER和FreeSWITCH的组合构建了一个媒体感知的SBC。通话录音拦截，转码，运行良好。

将很快发布一个“如何”的教程。

## 办公室PBX

我们在一家拥有190个分机的律师事务所中使用FreeSWITCH作为PBX。一些Asterisk无法提供的功能：准确的BLF，park orbit分组，分机溢出线路和自定义铃声。 Brian Snipes &lt;brian@[hwnn.com](http://hwnn.com)\>

## 服务提供商使用FreeSWITCH

我从这里开始，但有点得意忘形了。我在我的[博客](http://blog.krisk.org/2009/10/i-dont-do-testimonials.html)上分享了一些心得体会。

## 好好利用FreeSWITCH

我从2008年开始学习FreeSWITCH。2009年8月，由于与Skype和FreeSWITCH的简单集成，我在阿尔及利亚电信公司获得了一份使用 FreeSWITCH 的工作，用于演示目的，此外还对AT封锁SIP以阻止VoIP呼叫并让客户使用他们的模拟网络提出了简单的投诉。

## 多功能FreeSWITCH（SIP/Skype/GTalk）在Idapted.com上的推荐

**idapted推荐**

### FreeSWITCH如何创造了数百个工作机会并改变了人们的生活。

我们想要分享我们与FreeSWITCH合作的经验。FreeSWITCH已经成为我们业务的关键推动力。我们希望这个故事能够以微不足道的方式向大家说一声非常感谢。

“改变生活”这个词太过陈词滥调，但在这种情况下，FreeSWITCH真的让我们能够做到这一点。

#### 我们的业务

我们不是一个电话业务，我们是一家教育技术和服务业务。在亚洲（包括我们所在的中国），学生必须通过英语考试才能出国留学或工作，获得新的经验。然而，与母语英语人士接触的机会有限，学生能够接触到的机会通常非常昂贵。与此同时，在美国，有许多专业人员正在寻找居家工作的机会 - 需要工作并且会成为优秀教师的人。通过我们的技术和内容，我们让这些人能够成为有效的英语教师。它有效吗？是的。我们大部分学生的考试成绩都比许多人多年来一直没有通过。就在几个小时前，有一位学生打电话给我们的销售代表，满心欢喜地哭了出来。而对于我们的教师们来说，他们现在正在一个过去对美国居民不可得的行业中工作。 <http://www.idapted.com>

#### 为什么FreeSWITCH能够实现这一点

FreeSWITCH对我们的业务起到了至关重要的作用。录制呼叫、控制路由、与各种基于Web的接口进行集成、启用多个终端——这些都是我们必须做的关键特性。更重要的是，设置各种服务器和路由来应对跨太平洋和特定国家网络挑战是关键。如果使用商业解决方案来做我们现在做的事情，将会使业务变得不可行。

#### 我们使用FreeSWITCH的经验

我们从2008年4月开始使用FreeSWITCH作为我们的VoIP平台，在尝试其他开源解决方案后未能获得满意的结果。阅读FreeSWITCH源代码的过程只用了一天时间，我们就知道，“就是这个了。我们要建立业务的VoIP平台就是它。”接下来，花了几天时间与非常胜任和专注的社区合作，进一步坚定了这一决心。

#### 我们的设置

我们的教师使用一款定制软件，将VoIP客户端与我们的基于Web的平台进行集成。学生可以随时通过该平台与教师进行连接。简单来说，在基于Web的接口上，学生输入电话号码（或者Skype名称或Google Talk帐号），我们的平台将最适合的讲师与学生进行连接。同时，基于Web的界面也在实时更新。

对我们而言，挑战在于跨洲际网络上教师和学生之间的连接。例如，今年早些时候亚太地区的通信光纤出现问题，我们遇到了一些困难……因此，我们学会了在多个数据中心设置多个服务器以实现冗余。

我们运行多个FreeSWITCH实例，以便始终使用最先进的技术并减轻错误带来的影响。一个主要的“稳定”FreeSWITCH（FS）实例连接到其他FreeSWITCH实例 - FS-skype仅加载mod_skypiax，FS-gtalk仅加载mod_dingaling。这就是FS的优点之一：我们只需创建不同的配置目录（/usr/local/freeswitch，/usr/local/skype，/usr/local/gtalk等）。这使我们可以在不同的配置上运行相同的代码库，并像正常的PSTN网关一样呼叫Skype和Gtalk帐户（sofia/gateway/pstn/....或sofia/gateway/skype/....或sofia/gateway/gtalk/....）。更重要的是，如果一个FS（比如FS-skype）表现异常或崩溃，我们可以轻松切换到另一个FS-skype服务器（我们在中国和香港的不同位置运行其他服务器以实现冗余）。

FS --|
         |---PSTN网关
         |--- FS-skype
         |--- FS-gtalk
         |--- FS-skype2
         |--- 更多...

### 社区

社区的贡献是不可低估的。FreeSWITCH智能且模块化的设计允许任何人根据其技能贡献。它还使我们能够轻松修改底层代码以适应我们特定的用例。我们想要强调FS生态系统中的一些关键人物和模块：

mod\_sofia: SIP 是我们连接到 PSTN 网关和教师客户端的方式。PSTN 对用户来说是零配置的，可以减轻与最终用户网络、麦克风等的问题（这在我们的用户群中非常重要）。然而，廉价提供商会随机出现故障，FreeSWITCH 通过控制路由、使用多个端点以及清晰地看到正在发生的事情，是解决这个问题的关键。最重要的是，anthm 和核心团队在让 SIP 与我们配合工作方面帮助很大。在 1.0 版之前，anthm 对 mod-sofia 做出了重大改变，使其可以在没有 STUN 的情况下实现位于 NAT 后的客户端。重要的是要指出，他不仅仅是做出了这些改变 - 他迫使我们真正提出了一个有说服力的理由，说明为什么这些改变对于 FreeSWITCH 来说很重要。这是一件好事。

skype (mod\_skypiax): 由于用户更喜欢使用 Skype，我们配置了 skypiax。在开始时它是不稳定的，这也是我们开始运行独立的 FS 实例的原因之一。公平来说，它引起了很多麻烦 - 但我们知道这点，它是一款新软件，承担了很大的风险，并实现了一个复杂的黑客技巧。重要的是，skypiax 的作者 Giovanni Maruzzelli 给予了巨大的帮助。他积极修复漏洞，并登录到我们的服务器帮助解决问题。我们非常感谢他。

为了使 Skypiax 更加有用，我们还创建了一些补丁，包括用于顺序和轮询线路猎取的 ANY 和 RR 接口、一些漏洞修复以及其他功能，比如连续负载故障和自动 Skype 用户，这些功能还没有合并到主干版本中。感谢社区为我们提供了一个平台，使我们都能获得优势并做出贡献。

erlang (mod_erlang_events): 下一版本的系统的另一个关键支持是erlang接口。我们拥有一个复杂的实时队列路由系统，它不仅处理来自FreeSWITCH的输入，还处理来自许多其他网络接口和套接字的输入。选择Erlang作为实现技术是再合适不过了，幸运的是，已经有一个FreeSWITCH的Erlang模块可以直接使用。太美妙了。

mod_conference 和 mod_fifo: 我们还在办公环境中使用FreeSWITCH作为呼叫中心和客户服务的PBX，并与VoIP和PSTN(openzap)网关连接。它自然地与我们的CRM系统集成在一起，使销售流程、业务逻辑和全球会议变得更加简单和便捷。

### 故事的寓意

FreeSWITCH是一款伟大的软件，它带来了新的技术和商业模式。设计允许（并由核心团队培养）了一个充满活力和激动人心的社区，使软件变得更加优秀。每天，我们都充满激情地努力推动电话技术的发展边界，并且我们有信心这将成为未来的平台。

谢谢大家。

  
诚挚地，

Seven Du(Dujinfang) - 技术运营/VoIP经理  
Jonathan Palley - CTO  
Idapted有限公司

  
参见:

* [真实案例](https://wiki.freeswitch.org/wiki/Testimonials "真实案例")
* [中文版本](http://www.dujinfang.com/2010/02/04/idaptedde-freeswitchshi-jian.html)。