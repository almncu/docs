# local_ip_v4

由Ryan Harris创建，由Duvid Rottenberg于2018.04.24修改

## local_ip_v4

字符串

此全局变量由FreeSWITCH核心动态设置，通过询问底层操作系统获取运行FreeSWITCH的服务器的IP地址。如果服务器有多个IP地址，则此变量将设置为操作系统返回的第一个IP地址。在[默认配置](../FreeSWITCH-Explained/Configuration/Default-Configuration_6587388.mdx#mod_vp8)中，有许多设置使用了这个全局变量。

您无法覆盖此全局变量的值，因为FreeSWITCH核心将每分钟重置一次。如果您的服务器有多个IP地址，并且您希望强制FreeSWITCH使用特定的IP地址，您可以创建一个全局变量`force_local_ip_v4`并将其设置为您 prefer的IP地址。您还必须将local\_ip\_v4变量设置为此IP地址，可以通过简单地将local\_ip\_v4设置为使用`force_local_ip_v4`的值来实现。

**例如：force\_local\_ip\_v4**

```xml
<X-PRE-PROCESS cmd="set" data="force_local_ip_v4=1.1.1.1"/>
<X-PRE-PROCESS cmd="set" data="local_ip_v4=$${force_local_ip_v4 }"/>
```

FreeSWITCH不会验证您为`force_local_ip_v4`输入的IP地址实际上是否指向服务器，这取决于您确保使用正确路由到服务器的有效IP地址。